import{c as ga,g as pa}from"./request-q7qQChFw.js";import{S as ft,e as $,c as lt,d as Er,f as ut,g as kr,m as ma,p as ya,h as ba,j as Sa,k as Q,l as Aa,C as xa,n as Y,o as Da,q as ge,r as Lt,s as Or,t as Ma,v as Ia,w as _a,x as Ce,y as K,_ as H,z as Gr,A as Ca,B as ct,D as Z,F as Ta,G as La,H as wa,O as Pa,I as re,J as Ea,K as ae,L as Te,M as ka,N as Oa,P as Ht,Q as Ga,R as Na,T as Nr,U as Yt,V as Ra,W as Le,X as we,Y as $a,Z as Va,$ as Fa,a0 as ne,a1 as Pe,a2 as xt,a3 as Dt,a4 as za,a5 as Ba,a6 as pt,a7 as Wa,a8 as Ha,a9 as Ee,aa as ke,ab as Ya,u as Oe,ac as Ua,ad as Ge,ae as ie,af as Za,ag as Xa,ah as tt,ai as Rr,aj as et,ak as Bt,al as ja,am as qa,an as pe,ao as Gt,ap as dt,aq as Ne,ar as Ja,as as $r,at as me,au as Nt,av as ye,aw as St,ax as Re,ay as rt,az as Vr,aA as $e,aB as Ct,aC as Ve,aD as oe,aE as Fe,aF as Ot,aG as ze,aH as Qa,aI as Ka,aJ as Fr,aK as tn,aL as Be,aM as en,aN as rn,aO as an,aP as nn,aQ as We,aR as He,aS as on,aT as sn,aU as ln,aV as un,aW as vn,aX as Rt,aY as zr,aZ as be,a_ as fn,a$ as ht,b0 as cn,b1 as hn,b2 as Se,b3 as It,b4 as Ut,b5 as Ye,b6 as dn,b7 as gn}from"./index-CX86-3ba.js";var Br={exports:{}};(function(r,t){(function(e,a){r.exports=a()})(ga,function(){var e=1e3,a=6e4,n=36e5,i="millisecond",o="second",s="minute",u="hour",l="day",f="week",v="month",h="quarter",c="year",d="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var I=["th","st","nd","rd"],_=w%100;return"["+w+(I[(_-20)%10]||I[_]||I[0])+"]"}},m=function(w,I,_){var E=String(w);return!E||E.length>=I?w:""+Array(I+1-E.length).join(_)+w},D={s:m,z:function(w){var I=-w.utcOffset(),_=Math.abs(I),E=Math.floor(_/60),M=_%60;return(I<=0?"+":"-")+m(E,2,"0")+":"+m(M,2,"0")},m:function w(I,_){if(I.date()<_.date())return-w(_,I);var E=12*(_.year()-I.year())+(_.month()-I.month()),M=I.clone().add(E,v),O=_-M<0,N=I.clone().add(E+(O?-1:1),v);return+(-(E+(_-M)/(O?M-N:N-M))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:v,y:c,w:f,d:l,D:d,h:u,m:s,s:o,ms:i,Q:h}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},A="en",b={};b[A]=S;var x="$isDayjsObject",L=function(w){return w instanceof k||!(!w||!w[x])},C=function w(I,_,E){var M;if(!I)return A;if(typeof I=="string"){var O=I.toLowerCase();b[O]&&(M=O),_&&(b[O]=_,M=O);var N=I.split("-");if(!M&&N.length>1)return w(N[0])}else{var R=I.name;b[R]=I,M=R}return!E&&M&&(A=M),M||!E&&A},P=function(w,I){if(L(w))return w.clone();var _=typeof I=="object"?I:{};return _.date=w,_.args=arguments,new k(_)},T=D;T.l=C,T.i=L,T.w=function(w,I){return P(w,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var k=function(){function w(_){this.$L=C(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[x]=!0}var I=w.prototype;return I.parse=function(_){this.$d=function(E){var M=E.date,O=E.utc;if(M===null)return new Date(NaN);if(T.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var N=M.match(p);if(N){var R=N[2]-1||0,z=(N[7]||"0").substring(0,3);return O?new Date(Date.UTC(N[1],R,N[3]||1,N[4]||0,N[5]||0,N[6]||0,z)):new Date(N[1],R,N[3]||1,N[4]||0,N[5]||0,N[6]||0,z)}}return new Date(M)}(_),this.init()},I.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},I.$utils=function(){return T},I.isValid=function(){return this.$d.toString()!==g},I.isSame=function(_,E){var M=P(_);return this.startOf(E)<=M&&M<=this.endOf(E)},I.isAfter=function(_,E){return P(_)<this.startOf(E)},I.isBefore=function(_,E){return this.endOf(E)<P(_)},I.$g=function(_,E,M){return T.u(_)?this[E]:this.set(M,_)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(_,E){var M=this,O=!!T.u(E)||E,N=T.p(_),R=function(q,U){var j=T.w(M.$u?Date.UTC(M.$y,U,q):new Date(M.$y,U,q),M);return O?j:j.endOf(l)},z=function(q,U){return T.w(M.toDate()[q].apply(M.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(U)),M)},V=this.$W,F=this.$M,W=this.$D,B="set"+(this.$u?"UTC":"");switch(N){case c:return O?R(1,0):R(31,11);case v:return O?R(1,F):R(0,F+1);case f:var X=this.$locale().weekStart||0,at=(V<X?V+7:V)-X;return R(O?W-at:W+(6-at),F);case l:case d:return z(B+"Hours",0);case u:return z(B+"Minutes",1);case s:return z(B+"Seconds",2);case o:return z(B+"Milliseconds",3);default:return this.clone()}},I.endOf=function(_){return this.startOf(_,!1)},I.$set=function(_,E){var M,O=T.p(_),N="set"+(this.$u?"UTC":""),R=(M={},M[l]=N+"Date",M[d]=N+"Date",M[v]=N+"Month",M[c]=N+"FullYear",M[u]=N+"Hours",M[s]=N+"Minutes",M[o]=N+"Seconds",M[i]=N+"Milliseconds",M)[O],z=O===l?this.$D+(E-this.$W):E;if(O===v||O===c){var V=this.clone().set(d,1);V.$d[R](z),V.init(),this.$d=V.set(d,Math.min(this.$D,V.daysInMonth())).$d}else R&&this.$d[R](z);return this.init(),this},I.set=function(_,E){return this.clone().$set(_,E)},I.get=function(_){return this[T.p(_)]()},I.add=function(_,E){var M,O=this;_=Number(_);var N=T.p(E),R=function(F){var W=P(O);return T.w(W.date(W.date()+Math.round(F*_)),O)};if(N===v)return this.set(v,this.$M+_);if(N===c)return this.set(c,this.$y+_);if(N===l)return R(1);if(N===f)return R(7);var z=(M={},M[s]=a,M[u]=n,M[o]=e,M)[N]||1,V=this.$d.getTime()+_*z;return T.w(V,this)},I.subtract=function(_,E){return this.add(-1*_,E)},I.format=function(_){var E=this,M=this.$locale();if(!this.isValid())return M.invalidDate||g;var O=_||"YYYY-MM-DDTHH:mm:ssZ",N=T.z(this),R=this.$H,z=this.$m,V=this.$M,F=M.weekdays,W=M.months,B=M.meridiem,X=function(U,j,Mt,wt){return U&&(U[j]||U(E,O))||Mt[j].slice(0,wt)},at=function(U){return T.s(R%12||12,U,"0")},q=B||function(U,j,Mt){var wt=U<12?"AM":"PM";return Mt?wt.toLowerCase():wt};return O.replace(y,function(U,j){return j||function(Mt){switch(Mt){case"YY":return String(E.$y).slice(-2);case"YYYY":return T.s(E.$y,4,"0");case"M":return V+1;case"MM":return T.s(V+1,2,"0");case"MMM":return X(M.monthsShort,V,W,3);case"MMMM":return X(W,V);case"D":return E.$D;case"DD":return T.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return X(M.weekdaysMin,E.$W,F,2);case"ddd":return X(M.weekdaysShort,E.$W,F,3);case"dddd":return F[E.$W];case"H":return String(R);case"HH":return T.s(R,2,"0");case"h":return at(1);case"hh":return at(2);case"a":return q(R,z,!0);case"A":return q(R,z,!1);case"m":return String(z);case"mm":return T.s(z,2,"0");case"s":return String(E.$s);case"ss":return T.s(E.$s,2,"0");case"SSS":return T.s(E.$ms,3,"0");case"Z":return N}return null}(U)||N.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(_,E,M){var O,N=this,R=T.p(E),z=P(_),V=(z.utcOffset()-this.utcOffset())*a,F=this-z,W=function(){return T.m(N,z)};switch(R){case c:O=W()/12;break;case v:O=W();break;case h:O=W()/3;break;case f:O=(F-V)/6048e5;break;case l:O=(F-V)/864e5;break;case u:O=F/n;break;case s:O=F/a;break;case o:O=F/e;break;default:O=F}return M?O:T.a(O)},I.daysInMonth=function(){return this.endOf(v).$D},I.$locale=function(){return b[this.$L]},I.locale=function(_,E){if(!_)return this.$L;var M=this.clone(),O=C(_,E,!0);return O&&(M.$L=O),M},I.clone=function(){return T.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},w}(),G=k.prototype;return P.prototype=G,[["$ms",i],["$s",o],["$m",s],["$H",u],["$W",l],["$M",v],["$y",c],["$D",d]].forEach(function(w){G[w[1]]=function(I){return this.$g(I,w[0],w[1])}}),P.extend=function(w,I){return w.$i||(w(I,k,P),w.$i=!0),P},P.locale=C,P.isDayjs=L,P.unix=function(w){return P(1e3*w)},P.en=b[A],P.Ls=b,P.p={},P})})(Br);var pn=Br.exports;const Wt=pa(pn);function co(r){return Wt(r).format("YYYY-MM-DD")}function ho(r){return Wt(r).format("YYYY-MM-DD HH:mm:ss")}function go(r,t,e){return Wt(r).subtract(t,e).format("YYYY-MM-DD HH:mm:ss")}function po(r){const t=Wt(r),e=t.subtract(1,"week").startOf("week").add(1,"day"),a=t.subtract(1,"week").endOf("week").add(1,"day");return`${e.format("YYYY-MM-DD")} ~ ${a.format("YYYY-MM-DD")}`}var mn=function(){function r(t){this.coordSysDims=[],this.axisMap=lt(),this.categoryAxisMap=lt(),this.coordSysName=t}return r}();function yn(r){var t=r.get("coordinateSystem"),e=new mn(t),a=bn[t];if(a)return a(r,e,e.axisMap,e.categoryAxisMap),e}var bn={cartesian2d:function(r,t,e,a){var n=r.getReferringComponents("xAxis",ft).models[0],i=r.getReferringComponents("yAxis",ft).models[0];t.coordSysDims=["x","y"],e.set("x",n),e.set("y",i),mt(n)&&(a.set("x",n),t.firstCategoryDimIndex=0),mt(i)&&(a.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,a){var n=r.getReferringComponents("singleAxis",ft).models[0];t.coordSysDims=["single"],e.set("single",n),mt(n)&&(a.set("single",n),t.firstCategoryDimIndex=0)},polar:function(r,t,e,a){var n=r.getReferringComponents("polar",ft).models[0],i=n.findAxisModel("radiusAxis"),o=n.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",i),e.set("angle",o),mt(i)&&(a.set("radius",i),t.firstCategoryDimIndex=0),mt(o)&&(a.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,a){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,a){var n=r.ecModel,i=n.getComponent("parallel",r.get("parallelIndex")),o=t.coordSysDims=i.dimensions.slice();$(i.parallelAxisIndex,function(s,u){var l=n.getComponent("parallelAxis",s),f=o[u];e.set(f,l),mt(l)&&(a.set(f,l),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=u))})}};function mt(r){return r.get("type")==="category"}function Sn(r,t){var e=r.get("coordinateSystem"),a=xa.get(e),n;return t&&t.coordSysDims&&(n=Y(t.coordSysDims,function(i){var o={name:i},s=t.axisMap.get(i);if(s){var u=s.get("type");o.type=Da(u)}return o})),n||(n=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),n}function An(r,t,e){var a,n;return e&&$(r,function(i,o){var s=i.coordDim,u=e.categoryAxisMap.get(s);u&&(a==null&&(a=o),i.ordinalMeta=u.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(n=!0)}),!n&&a!=null&&(r[a].otherDims.itemName=0),a}function Ae(r,t,e){e=e||{};var a=t.getSourceManager(),n,i=!1;n=a.getSource(),i=n.sourceFormat===Er;var o=yn(t),s=Sn(t,o),u=e.useEncodeDefaulter,l=ut(u)?u:u?kr(ma,s,t):null,f={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!i},v=ya(n,f),h=An(v.dimensions,e.createInvertedIndices,o),c=i?null:a.getSharedDataStore(v),d=ba(t,{schema:v,store:c}),g=new Sa(v,t);g.setCalculationInfo(d);var p=h!=null&&xn(n)?function(y,S,m,D){return D===h?m:this.defaultDimValueGetter(y,S,m,D)}:null;return g.hasItemOption=!1,g.initData(i?n:c,null,p),g}function xn(r){if(r.sourceFormat===Er){var t=Dn(r.data||[]);return!Q(Aa(t))}}function Dn(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}var Mn=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r}(),Tt=ge();function Wr(r,t){var e=Y(t,function(a){return r.scale.parse(a)});return r.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function In(r){var t=r.getLabelModel().get("customValues");if(t){var e=Lt(r);return{labels:Wr(r,t).map(function(a){var n={value:a};return{formattedLabel:e(n),rawLabel:r.scale.getLabel(n),tickValue:a}})}}return r.type==="category"?Cn(r):Ln(r)}function _n(r,t){var e=r.getTickModel().get("customValues");return e?{ticks:Wr(r,e)}:r.type==="category"?Tn(r,t):{ticks:Y(r.scale.getTicks(),function(a){return a.value})}}function Cn(r){var t=r.getLabelModel(),e=Hr(r,t);return!t.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function Hr(r,t){var e=Yr(r,"labels"),a=Or(t),n=Ur(e,a);if(n)return n;var i,o;return ut(a)?i=jr(r,a):(o=a==="auto"?wn(r):a,i=Xr(r,o)),Zr(e,a,{labels:i,labelCategoryInterval:o})}function Tn(r,t){var e=Yr(r,"ticks"),a=Or(t),n=Ur(e,a);if(n)return n;var i,o;if((!t.get("show")||r.scale.isBlank())&&(i=[]),ut(a))i=jr(r,a,!0);else if(a==="auto"){var s=Hr(r,r.getLabelModel());o=s.labelCategoryInterval,i=Y(s.labels,function(u){return u.tickValue})}else o=a,i=Xr(r,o,!0);return Zr(e,a,{ticks:i,tickCategoryInterval:o})}function Ln(r){var t=r.scale.getTicks(),e=Lt(r);return{labels:Y(t,function(a,n){return{level:a.level,formattedLabel:e(a,n),rawLabel:r.scale.getLabel(a),tickValue:a.value}})}}function Yr(r,t){return Tt(r)[t]||(Tt(r)[t]=[])}function Ur(r,t){for(var e=0;e<r.length;e++)if(r[e].key===t)return r[e].value}function Zr(r,t,e){return r.push({key:t,value:e}),e}function wn(r){var t=Tt(r).autoInterval;return t??(Tt(r).autoInterval=r.calculateCategoryInterval())}function Pn(r){var t=En(r),e=Lt(r),a=(t.axisRotate-t.labelRotate)/180*Math.PI,n=r.scale,i=n.getExtent(),o=n.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var u=i[0],l=r.dataToCoord(u+1)-r.dataToCoord(u),f=Math.abs(l*Math.cos(a)),v=Math.abs(l*Math.sin(a)),h=0,c=0;u<=i[1];u+=s){var d=0,g=0,p=Ma(e({value:u}),t.font,"center","top");d=p.width*1.3,g=p.height*1.3,h=Math.max(h,d,7),c=Math.max(c,g,7)}var y=h/f,S=c/v;isNaN(y)&&(y=1/0),isNaN(S)&&(S=1/0);var m=Math.max(0,Math.floor(Math.min(y,S))),D=Tt(r.model),A=r.getExtent(),b=D.lastAutoInterval,x=D.lastTickCount;return b!=null&&x!=null&&Math.abs(b-m)<=1&&Math.abs(x-o)<=1&&b>m&&D.axisExtent0===A[0]&&D.axisExtent1===A[1]?m=b:(D.lastTickCount=o,D.lastAutoInterval=m,D.axisExtent0=A[0],D.axisExtent1=A[1]),m}function En(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Xr(r,t,e){var a=Lt(r),n=r.scale,i=n.getExtent(),o=r.getLabelModel(),s=[],u=Math.max((t||0)+1,1),l=i[0],f=n.count();l!==0&&u>1&&f/u>2&&(l=Math.round(Math.ceil(l/u)*u));var v=Ia(r),h=o.get("showMinLabel")||v,c=o.get("showMaxLabel")||v;h&&l!==i[0]&&g(i[0]);for(var d=l;d<=i[1];d+=u)g(d);c&&d-u!==i[1]&&g(i[1]);function g(p){var y={value:p};s.push(e?p:{formattedLabel:a(y),rawLabel:n.getLabel(y),tickValue:p})}return s}function jr(r,t,e){var a=r.scale,n=Lt(r),i=[];return $(a.getTicks(),function(o){var s=a.getLabel(o),u=o.value;t(o.value,s)&&i.push(e?u:{formattedLabel:n(o),rawLabel:s,tickValue:u})}),i}var Ue=[0,1],kn=function(){function r(t,e,a){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=a||[0,0]}return r.prototype.contain=function(t){var e=this._extent,a=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=a&&t<=n},r.prototype.containData=function(t){return this.scale.contain(t)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return _a(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,e){var a=this._extent;a[0]=t,a[1]=e},r.prototype.dataToCoord=function(t,e){var a=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&n.type==="ordinal"&&(a=a.slice(),Ze(a,n.count())),Ce(t,Ue,a,e)},r.prototype.coordToData=function(t,e){var a=this._extent,n=this.scale;this.onBand&&n.type==="ordinal"&&(a=a.slice(),Ze(a,n.count()));var i=Ce(t,a,Ue,e);return this.scale.scale(i)},r.prototype.pointToData=function(t,e){},r.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),a=_n(this,e),n=a.ticks,i=Y(n,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=e.get("alignWithLabel");return On(this,i,o,t.clamp),i},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var a=this.scale.getMinorTicks(e),n=Y(a,function(i){return Y(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return n},r.prototype.getViewLabels=function(){return In(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),a=e[1]-e[0]+(this.onBand?1:0);a===0&&(a=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/a},r.prototype.calculateCategoryInterval=function(){return Pn(this)},r}();function Ze(r,t){var e=r[1]-r[0],a=t,n=e/a/2;r[0]+=n,r[1]-=n}function On(r,t,e,a){var n=t.length;if(!r.onBand||e||!n)return;var i=r.getExtent(),o,s;if(n===1)t[0].coord=i[0],o=t[1]={coord:i[1]};else{var u=t[n-1].tickValue-t[0].tickValue,l=(t[n-1].coord-t[0].coord)/u;$(t,function(c){c.coord-=l/2});var f=r.scale.getExtent();s=1+f[1]-t[n-1].tickValue,o={coord:t[n-1].coord+l*s},t.push(o)}var v=i[0]>i[1];h(t[0].coord,i[0])&&(a?t[0].coord=i[0]:t.shift()),a&&h(i[0],t[0].coord)&&t.unshift({coord:i[0]}),h(i[1],o.coord)&&(a?o.coord=i[1]:t.pop()),a&&h(o.coord,i[1])&&t.push({coord:i[1]});function h(c,d){return c=K(c),d=K(d),v?c>d:c<d}}var Gn=function(r){H(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Gr),se=function(r){H(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ft).models[0]},t.type="cartesian2dAxis",t}(Gr);Ca(se,Mn);var qr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Nn=ct({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},qr),xe=ct({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},qr),Rn=ct({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},xe),$n=Z({logBase:10},xe);const Vn={category:Nn,value:xe,time:Rn,log:$n};var Fn={value:1,category:1,time:1,log:1};function Xe(r,t,e,a){$(Fn,function(n,i){var o=ct(ct({},Vn[i],!0),a,!0),s=function(u){H(l,u);function l(){var f=u!==null&&u.apply(this,arguments)||this;return f.type=t+"Axis."+i,f}return l.prototype.mergeDefaultAndTheme=function(f,v){var h=Ta(this),c=h?La(f):{},d=v.getTheme();ct(f,d.get(i+"Axis")),ct(f,this.getDefaultOption()),f.type=je(f),h&&wa(f,c,h)},l.prototype.optionUpdated=function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=Pa.createByAxisModel(this))},l.prototype.getCategories=function(f){var v=this.option;if(v.type==="category")return f?v.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=t+"Axis."+i,l.defaultOption=o,l}(e);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(t+"Axis",je)}function je(r){return r.type||(r.data?"category":"value")}var zn=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return Y(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),re(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r}(),le=["x","y"];function qe(r){return r.type==="interval"||r.type==="time"}var Bn=function(r){H(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=le,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!qe(e)||!qe(a))){var n=e.getExtent(),i=a.getExtent(),o=this.dataToPoint([n[0],i[0]]),s=this.dataToPoint([n[1],i[1]]),u=n[1]-n[0],l=i[1]-i[0];if(!(!u||!l)){var f=(s[0]-o[0])/u,v=(s[1]-o[1])/l,h=o[0]-n[0]*f,c=o[1]-i[0]*v,d=this._transform=[f,0,0,v,h,c];this._invTransform=Ea([],d)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var a=this.getAxis("x"),n=this.getAxis("y");return a.contain(a.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,a){var n=this.dataToPoint(e),i=this.dataToPoint(a),o=this.getArea(),s=new ae(n[0],n[1],i[0]-n[0],i[1]-n[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,a,n){n=n||[];var i=e[0],o=e[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return Te(n,e,this._transform);var s=this.getAxis("x"),u=this.getAxis("y");return n[0]=s.toGlobalCoord(s.dataToCoord(i,a)),n[1]=u.toGlobalCoord(u.dataToCoord(o,a)),n},t.prototype.clampData=function(e,a){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),s=i.getExtent(),u=n.parse(e[0]),l=i.parse(e[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),a},t.prototype.pointToData=function(e,a){var n=[];if(this._invTransform)return Te(n,e,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(e[0]),a),n[1]=o.coordToData(o.toLocalCoord(e[1]),a),n},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var a=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(a[0],a[1])-e,o=Math.min(n[0],n[1])-e,s=Math.max(a[0],a[1])-i+e,u=Math.max(n[0],n[1])-o+e;return new ae(i,o,s,u)},t}(zn),Wn=function(r){H(t,r);function t(e,a,n,i,o){var s=r.call(this,e,a,n)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),e&&a[0]>a[1]&&a.reverse(),a},t.prototype.pointToData=function(e,a){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),a)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(kn),Zt=Math.log;function Hn(r,t,e){var a=ka.prototype,n=a.getTicks.call(e),i=a.getTicks.call(e,!0),o=n.length-1,s=a.getInterval.call(e),u=Oa(r,t),l=u.extent,f=u.fixMin,v=u.fixMax;if(r.type==="log"){var h=Zt(r.base);l=[Zt(l[0])/h,Zt(l[1])/h]}r.setExtent(l[0],l[1]),r.calcNiceExtent({splitNumber:o,fixMin:f,fixMax:v});var c=a.getExtent.call(r);f&&(l[0]=c[0]),v&&(l[1]=c[1]);var d=a.getInterval.call(r),g=l[0],p=l[1];if(f&&v)d=(p-g)/o;else if(f)for(p=l[0]+d*o;p<l[1]&&isFinite(p)&&isFinite(l[1]);)d=Ht(d),p=l[0]+d*o;else if(v)for(g=l[1]-d*o;g>l[0]&&isFinite(g)&&isFinite(l[0]);)d=Ht(d),g=l[1]-d*o;else{var y=r.getTicks().length-1;y>o&&(d=Ht(d));var S=d*o;p=Math.ceil(l[1]/d)*d,g=K(p-S),g<0&&l[0]>=0?(g=0,p=K(S)):p>0&&l[1]<=0&&(p=0,g=-K(S))}var m=(n[0].value-i[0].value)/s,D=(n[o].value-i[o].value)/s;a.setExtent.call(r,g+d*m,p+d*D),a.setInterval.call(r,d),(m||D)&&a.setNiceExtent.call(r,g+d,p-d)}var Yn=function(){function r(t,e,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=le,this._initCartesian(t,e,a),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var a=this._axesMap;this._updateScale(t,this.model);function n(o){var s,u=Fa(o),l=u.length;if(l){for(var f=[],v=l-1;v>=0;v--){var h=+u[v],c=o[h],d=c.model,g=c.scale;ne(g)&&d.get("alignTicks")&&d.get("interval")==null?f.push(c):(Pe(g,d),ne(g)&&(s=c))}f.length&&(s||(s=f.pop(),Pe(s.scale,s.model)),$(f,function(p){Hn(p.scale,p.model,s.scale)}))}}n(a.x),n(a.y);var i={};$(a.x,function(o){Je(a,"y",o,i)}),$(a.y,function(o){Je(a,"x",o,i)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,a){var n=t.getBoxLayoutParams(),i=!a&&t.get("containLabel"),o=Ga(n,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;u(),i&&($(s,function(l){if(!l.model.get(["axisLabel","inside"])){var f=Na(l);if(f){var v=l.isHorizontal()?"height":"width",h=l.model.get(["axisLabel","margin"]);o[v]-=f[v]+h,l.position==="top"?o.y+=f.height+h:l.position==="left"&&(o.x+=f.width+h)}}}),u()),$(this._coordsList,function(l){l.calcAffineTransform()});function u(){$(s,function(l){var f=l.isHorizontal(),v=f?[0,o.width]:[0,o.height],h=l.inverse?1:0;l.setExtent(v[h],v[1-h]),Un(l,f?o.x:o.y)})}},r.prototype.getAxis=function(t,e){var a=this._axesMap[t];if(a!=null)return a[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var a="x"+t+"y"+e;return this._coordsMap[a]}Nr(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===t||i[n].getAxis("y").index===e)return i[n]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,a){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.dataToPoint(a):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(t,e,a){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.pointToData(a):n.axis?n.axis.coordToData(n.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,a=t.xAxisModel||e&&e.getReferringComponents("xAxis",ft).models[0],n=t.yAxisModel||e&&e.getReferringComponents("yAxis",ft).models[0],i=t.gridModel,o=this._coordsList,s,u;if(e)s=e.coordinateSystem,Yt(o,s)<0&&(s=null);else if(a&&n)s=this.getCartesian(a.componentIndex,n.componentIndex);else if(a)u=this.getAxis("x",a.componentIndex);else if(n)u=this.getAxis("y",n.componentIndex);else if(i){var l=i.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:u}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,a){var n=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},u={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,$(s.x,function(f,v){$(s.y,function(h,c){var d="x"+v+"y"+c,g=new Bn(d);g.master=n,g.model=t,n._coordsMap[d]=g,n._coordsList.push(g),g.addAxis(f),g.addAxis(h)})});function l(f){return function(v,h){if(Xt(v,t)){var c=v.get("position");f==="x"?c!=="top"&&c!=="bottom"&&(c=o.bottom?"top":"bottom"):c!=="left"&&c!=="right"&&(c=o.left?"right":"left"),o[c]=!0;var d=new Wn(f,Ra(v),[0,0],v.get("type"),c),g=d.type==="category";d.onBand=g&&v.get("boundaryGap"),d.inverse=v.get("inverse"),v.axis=d,d.model=v,d.grid=i,d.index=h,i._axesList.push(d),s[f][h]=d,u[f]++}}}},r.prototype._updateScale=function(t,e){$(this._axesList,function(n){if(n.scale.setExtent(1/0,-1/0),n.type==="category"){var i=n.model.get("categorySortInfo");n.scale.setSortInfo(i)}}),t.eachSeries(function(n){if(Le(n)){var i=we(n),o=i.xAxisModel,s=i.yAxisModel;if(!Xt(o,e)||!Xt(s,e))return;var u=this.getCartesian(o.componentIndex,s.componentIndex),l=n.getData(),f=u.getAxis("x"),v=u.getAxis("y");a(l,f),a(l,v)}},this);function a(n,i){$($a(n,i.dim),function(o){i.scale.unionExtentFromData(n,o)})}},r.prototype.getTooltipAxes=function(t){var e=[],a=[];return $(this.getCartesians(),function(n){var i=t!=null&&t!=="auto"?n.getAxis(t):n.getBaseAxis(),o=n.getOtherAxis(i);Yt(e,i)<0&&e.push(i),Yt(a,o)<0&&a.push(o)}),{baseAxes:e,otherAxes:a}},r.create=function(t,e){var a=[];return t.eachComponent("grid",function(n,i){var o=new r(n,t,e);o.name="grid_"+i,o.resize(n,e,!0),n.coordinateSystem=o,a.push(o)}),t.eachSeries(function(n){if(Le(n)){var i=we(n),o=i.xAxisModel,s=i.yAxisModel,u=o.getCoordSysModel(),l=u.coordinateSystem;n.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),a},r.dimensions=le,r}();function Xt(r,t){return r.getCoordSysModel()===t}function Je(r,t,e,a){e.getAxesOnZeroOf=function(){return i?[i]:[]};var n=r[t],i,o=e.model,s=o.get(["axisLine","onZero"]),u=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(u!=null)Qe(n[u])&&(i=n[u]);else for(var l in n)if(n.hasOwnProperty(l)&&Qe(n[l])&&!a[f(n[l])]){i=n[l];break}i&&(a[f(i)]=!0);function f(v){return v.dim+"_"+v.index}}function Qe(r){return r&&r.type!=="category"&&r.type!=="time"&&Va(r)}function Un(r,t){var e=r.getExtent(),a=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(n){return n+t}:function(n){return a-n+t},r.toLocalCoord=r.dim==="x"?function(n){return n-t}:function(n){return a-n+t}}var ue=ge();function Zn(r,t,e,a){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),u=a.coordinateSystem.getRect(),l=n.getTicksCoords({tickModel:i,clamp:!0});if(l.length){var f=s.length,v=ue(r).splitAreaColors,h=lt(),c=0;if(v)for(var d=0;d<l.length;d++){var g=v.get(l[d].tickValue);if(g!=null){c=(g+(f-1)*d)%f;break}}var p=n.toGlobalCoord(l[0].coord),y=o.getAreaStyle();s=Q(s)?s:[s];for(var d=1;d<l.length;d++){var S=n.toGlobalCoord(l[d].coord),m=void 0,D=void 0,A=void 0,b=void 0;n.isHorizontal()?(m=p,D=u.y,A=S-m,b=u.height,p=m+A):(m=u.x,D=p,A=u.width,b=S-D,p=D+b);var x=l[d-1].tickValue;x!=null&&h.set(x,c),t.add(new xt({anid:x!=null?"area_"+x:null,shape:{x:m,y:D,width:A,height:b},style:Z({fill:s[c]},y),autoBatch:!0,silent:!0})),c=(c+1)%f}ue(r).splitAreaColors=h}}}function Xn(r){ue(r).splitAreaColors=null}var jn=["axisLine","axisTickLabel","axisName"],qn=["splitArea","splitLine","minorSplitLine"],Jr=function(r){H(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,a,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Dt,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),u=za(s,e),l=new Ba(e,pt({handleAutoShown:function(v){for(var h=s.coordinateSystem.getCartesians(),c=0;c<h.length;c++)if(ne(h[c].getOtherAxis(e.axis).scale))return!0;return!1}},u));$(jn,l.add,l),this._axisGroup.add(l.getGroup()),$(qn,function(v){e.get([v,"show"])&&Jn[v](this,this._axisGroup,e,s)},this);var f=i&&i.type==="changeAxisOrder"&&i.isInitSort;f||Wa(o,this._axisGroup,e),r.prototype.render.call(this,e,a,n,i)}},t.prototype.remove=function(){Xn(this)},t.type="cartesianAxis",t}(Ha),Jn={splitLine:function(r,t,e,a){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=Q(s)?s:[s];for(var u=a.coordinateSystem.getRect(),l=n.isHorizontal(),f=0,v=n.getTicksCoords({tickModel:i}),h=[],c=[],d=o.getLineStyle(),g=0;g<v.length;g++){var p=n.toGlobalCoord(v[g].coord);l?(h[0]=p,h[1]=u.y,c[0]=p,c[1]=u.y+u.height):(h[0]=u.x,h[1]=p,c[0]=u.x+u.width,c[1]=p);var y=f++%s.length,S=v[g].tickValue,m=new Ee({anid:S!=null?"line_"+v[g].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:Z({stroke:s[y]},d),silent:!0});ke(m.shape,d.lineWidth),t.add(m)}}},minorSplitLine:function(r,t,e,a){var n=e.axis,i=e.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=a.coordinateSystem.getRect(),u=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var f=[],v=[],h=o.getLineStyle(),c=0;c<l.length;c++)for(var d=0;d<l[c].length;d++){var g=n.toGlobalCoord(l[c][d].coord);u?(f[0]=g,f[1]=s.y,v[0]=g,v[1]=s.y+s.height):(f[0]=s.x,f[1]=g,v[0]=s.x+s.width,v[1]=g);var p=new Ee({anid:"minor_line_"+l[c][d].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:v[0],y2:v[1]},style:h,silent:!0});ke(p.shape,h.lineWidth),t.add(p)}},splitArea:function(r,t,e,a){Zn(r,t,e,a)}},Qr=function(r){H(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(Jr),Qn=function(r){H(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=Qr.type,e}return t.type="yAxis",t}(Jr),Kn=function(r){H(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,a){this.group.removeAll(),e.get("show")&&this.group.add(new xt({shape:e.coordinateSystem.getRect(),style:Z({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Ya),Ke={offset:0};function ti(r){r.registerComponentView(Kn),r.registerComponentModel(Gn),r.registerCoordinateSystem("cartesian2d",Yn),Xe(r,"x",se,Ke),Xe(r,"y",se,Ke),r.registerComponentView(Qr),r.registerComponentView(Qn),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function mo(r){Oe(ti),Oe(Ua)}function De(r,t){var e=r.mapDimensionsAll("defaultedLabel"),a=e.length;if(a===1){var n=Ge(r,t,e[0]);return n!=null?n+"":null}else if(a){for(var i=[],o=0;o<e.length;o++)i.push(Ge(r,t,e[o]));return i.join(" ")}}function Kr(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!Q(t))return t+"";for(var a=[],n=0;n<e.length;n++){var i=r.getDimensionIndex(e[n]);i>=0&&a.push(t[i])}return a.join(" ")}var Me=function(r){H(t,r);function t(e,a,n,i){var o=r.call(this)||this;return o.updateData(e,a,n,i),o}return t.prototype._createSymbol=function(e,a,n,i,o){this.removeAll();var s=ie(e,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=ei,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Za(this.childAt(0))},t.prototype.downplay=function(){Xa(this.childAt(0))},t.prototype.setZ=function(e,a){var n=this.childAt(0);n.zlevel=e,n.z=a},t.prototype.setDraggable=function(e,a){var n=this.childAt(0);n.draggable=e,n.cursor=!a&&e?"move":n.cursor},t.prototype.updateData=function(e,a,n,i){this.silent=!1;var o=e.getItemVisual(a,"symbol")||"circle",s=e.hostModel,u=t.getSymbolSize(e,a),l=o!==this._symbolType,f=i&&i.disableAnimation;if(l){var v=e.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,e,a,u,v)}else{var h=this.childAt(0);h.silent=!1;var c={scaleX:u[0]/2,scaleY:u[1]/2};f?h.attr(c):tt(h,c,s,a),Rr(h)}if(this._updateCommon(e,a,u,n,i),l){var h=this.childAt(0);if(!f){var c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,et(h,c,s,a)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,a,n,i,o){var s=this.childAt(0),u=e.hostModel,l,f,v,h,c,d,g,p,y;if(i&&(l=i.emphasisItemStyle,f=i.blurItemStyle,v=i.selectItemStyle,h=i.focus,c=i.blurScope,g=i.labelStatesModels,p=i.hoverScale,y=i.cursorStyle,d=i.emphasisDisabled),!i||e.hasItemOption){var S=i&&i.itemModel?i.itemModel:e.getItemModel(a),m=S.getModel("emphasis");l=m.getModel("itemStyle").getItemStyle(),v=S.getModel(["select","itemStyle"]).getItemStyle(),f=S.getModel(["blur","itemStyle"]).getItemStyle(),h=m.get("focus"),c=m.get("blurScope"),d=m.get("disabled"),g=Bt(S),p=m.getShallow("scale"),y=S.getShallow("cursor")}var D=e.getItemVisual(a,"symbolRotate");s.attr("rotation",(D||0)*Math.PI/180||0);var A=ja(e.getItemVisual(a,"symbolOffset"),n);A&&(s.x=A[0],s.y=A[1]),y&&s.attr("cursor",y);var b=e.getItemVisual(a,"style"),x=b.fill;if(s instanceof qa){var L=s.style;s.useStyle(pt({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},b))}else s.__isEmptyBrush?s.useStyle(pt({},b)):s.useStyle(b),s.style.decal=null,s.setColor(x,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var C=e.getItemVisual(a,"liftZ"),P=this._z2;C!=null?P==null&&(this._z2=s.z2,s.z2+=C):P!=null&&(s.z2=P,this._z2=null);var T=o&&o.useNameLabel;pe(s,g,{labelFetcher:u,labelDataIndex:a,defaultText:k,inheritColor:x,defaultOpacity:b.opacity});function k(I){return T?e.getName(I):De(e,I)}this._sizeX=n[0]/2,this._sizeY=n[1]/2;var G=s.ensureState("emphasis");G.style=l,s.ensureState("select").style=v,s.ensureState("blur").style=f;var w=p==null||p===!0?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;G.scaleX=this._sizeX*w,G.scaleY=this._sizeY*w,this.setSymbolScale(1),Gt(this,h,c,d)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,a,n){var i=this.childAt(0),o=dt(this).dataIndex,s=n&&n.animation;if(this.silent=i.silent=!0,n&&n.fadeLabel){var u=i.getTextContent();u&&Ne(u,{style:{opacity:0}},a,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();Ne(i,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,a){return Ja(e.getItemVisual(a,"symbolSize"))},t}(Dt);function ei(r,t){this.parent.drift(r,t)}function jt(r,t,e,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(e))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function tr(r){return r!=null&&!Nr(r)&&(r={isIgnore:r}),r||{}}function er(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Bt(t),cursorStyle:t.get("cursor")}}var ri=function(){function r(t){this.group=new Dt,this._SymbolCtor=t||Me}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=tr(e);var a=this.group,n=t.hostModel,i=this._data,o=this._SymbolCtor,s=e.disableAnimation,u=er(t),l={disableAnimation:s},f=e.getSymbolPoint||function(v){return t.getItemLayout(v)};i||a.removeAll(),t.diff(i).add(function(v){var h=f(v);if(jt(t,h,v,e)){var c=new o(t,v,u,l);c.setPosition(h),t.setItemGraphicEl(v,c),a.add(c)}}).update(function(v,h){var c=i.getItemGraphicEl(h),d=f(v);if(!jt(t,d,v,e)){a.remove(c);return}var g=t.getItemVisual(v,"symbol")||"circle",p=c&&c.getSymbolType&&c.getSymbolType();if(!c||p&&p!==g)a.remove(c),c=new o(t,v,u,l),c.setPosition(d);else{c.updateData(t,v,u,l);var y={x:d[0],y:d[1]};s?c.attr(y):tt(c,y,n)}a.add(c),t.setItemGraphicEl(v,c)}).remove(function(v){var h=i.getItemGraphicEl(v);h&&h.fadeOut(function(){a.remove(h)},n)}).execute(),this._getSymbolPoint=f,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(a,n){var i=t._getSymbolPoint(n);a.setPosition(i),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=er(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,a){this._progressiveEls=[],a=tr(a);function n(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=e.getItemLayout(i);if(jt(e,o,i,a)){var s=new this._SymbolCtor(e,i,this._seriesScope);s.traverse(n),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(t){$r(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl(function(n){n.fadeOut(function(){e.remove(n)},a.hostModel)}):e.removeAll()},r}();function Ie(r,t){return r.type===t}var ai=function(r){H(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return Ae(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var a=new Dt,n=ie("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);a.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,u=e.itemHeight*.8,l=ie(s,(e.itemWidth-u)/2,(e.itemHeight-u)/2,u,u,e.itemStyle.fill);a.add(l),l.setStyle(e.itemStyle);var f=e.iconRotate==="inherit"?o:e.iconRotate||0;return l.rotation=f*Math.PI/180,l.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(me);function ta(r,t,e){var a=r.getBaseAxis(),n=r.getOtherAxis(a),i=ni(n,e),o=a.dim,s=n.dim,u=t.mapDimension(s),l=t.mapDimension(o),f=s==="x"||s==="radius"?1:0,v=Y(r.dimensions,function(d){return t.mapDimension(d)}),h=!1,c=t.getCalculationInfo("stackResultDimension");return Nt(t,v[0])&&(h=!0,v[0]=c),Nt(t,v[1])&&(h=!0,v[1]=c),{dataDimsForPoint:v,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:u,baseDim:l,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function ni(r,t){var e=0,a=r.scale.getExtent();return t==="start"?e=a[0]:t==="end"?e=a[1]:ye(t)&&!isNaN(t)?e=t:a[0]>0?e=a[0]:a[1]<0&&(e=a[1]),e}function ea(r,t,e,a){var n=NaN;r.stacked&&(n=e.get(e.getCalculationInfo("stackedOverDimension"),a)),isNaN(n)&&(n=r.valueStart);var i=r.baseDataOffset,o=[];return o[i]=e.get(r.baseDim,a),o[1-i]=n,t.dataToPoint(o)}function ii(r,t){var e=[];return t.diff(r).add(function(a){e.push({cmd:"+",idx:a})}).update(function(a,n){e.push({cmd:"=",idx:n,idx1:a})}).remove(function(a){e.push({cmd:"-",idx:a})}).execute(),e}function oi(r,t,e,a,n,i,o,s){for(var u=ii(r,t),l=[],f=[],v=[],h=[],c=[],d=[],g=[],p=ta(n,t,o),y=r.getLayout("points")||[],S=t.getLayout("points")||[],m=0;m<u.length;m++){var D=u[m],A=!0,b=void 0,x=void 0;switch(D.cmd){case"=":b=D.idx*2,x=D.idx1*2;var L=y[b],C=y[b+1],P=S[x],T=S[x+1];(isNaN(L)||isNaN(C))&&(L=P,C=T),l.push(L,C),f.push(P,T),v.push(e[b],e[b+1]),h.push(a[x],a[x+1]),g.push(t.getRawIndex(D.idx1));break;case"+":var k=D.idx,G=p.dataDimsForPoint,w=n.dataToPoint([t.get(G[0],k),t.get(G[1],k)]);x=k*2,l.push(w[0],w[1]),f.push(S[x],S[x+1]);var I=ea(p,n,t,k);v.push(I[0],I[1]),h.push(a[x],a[x+1]),g.push(t.getRawIndex(k));break;case"-":A=!1}A&&(c.push(D),d.push(d.length))}d.sort(function(W,B){return g[W]-g[B]});for(var _=l.length,E=St(_),M=St(_),O=St(_),N=St(_),R=[],m=0;m<d.length;m++){var z=d[m],V=m*2,F=z*2;E[V]=l[F],E[V+1]=l[F+1],M[V]=f[F],M[V+1]=f[F+1],O[V]=v[F],O[V+1]=v[F+1],N[V]=h[F],N[V+1]=h[F+1],R[m]=c[z]}return{current:E,next:M,stackedOnCurrent:O,stackedOnNext:N,status:R}}var nt=Math.min,it=Math.max;function gt(r,t){return isNaN(r)||isNaN(t)}function ve(r,t,e,a,n,i,o,s,u){for(var l,f,v,h,c,d,g=e,p=0;p<a;p++){var y=t[g*2],S=t[g*2+1];if(g>=n||g<0)break;if(gt(y,S)){if(u){g+=i;continue}break}if(g===e)r[i>0?"moveTo":"lineTo"](y,S),v=y,h=S;else{var m=y-l,D=S-f;if(m*m+D*D<.5){g+=i;continue}if(o>0){for(var A=g+i,b=t[A*2],x=t[A*2+1];b===y&&x===S&&p<a;)p++,A+=i,g+=i,b=t[A*2],x=t[A*2+1],y=t[g*2],S=t[g*2+1],m=y-l,D=S-f;var L=p+1;if(u)for(;gt(b,x)&&L<a;)L++,A+=i,b=t[A*2],x=t[A*2+1];var C=.5,P=0,T=0,k=void 0,G=void 0;if(L>=a||gt(b,x))c=y,d=S;else{P=b-l,T=x-f;var w=y-l,I=b-y,_=S-f,E=x-S,M=void 0,O=void 0;if(s==="x"){M=Math.abs(w),O=Math.abs(I);var N=P>0?1:-1;c=y-N*M*o,d=S,k=y+N*O*o,G=S}else if(s==="y"){M=Math.abs(_),O=Math.abs(E);var R=T>0?1:-1;c=y,d=S-R*M*o,k=y,G=S+R*O*o}else M=Math.sqrt(w*w+_*_),O=Math.sqrt(I*I+E*E),C=O/(O+M),c=y-P*o*(1-C),d=S-T*o*(1-C),k=y+P*o*C,G=S+T*o*C,k=nt(k,it(b,y)),G=nt(G,it(x,S)),k=it(k,nt(b,y)),G=it(G,nt(x,S)),P=k-y,T=G-S,c=y-P*M/O,d=S-T*M/O,c=nt(c,it(l,y)),d=nt(d,it(f,S)),c=it(c,nt(l,y)),d=it(d,nt(f,S)),P=y-c,T=S-d,k=y+P*O/M,G=S+T*O/M}r.bezierCurveTo(v,h,c,d,y,S),v=k,h=G}else r.lineTo(y,S)}l=y,f=S,g+=i}return p}var ra=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),si=function(r){H(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new ra},t.prototype.buildPath=function(e,a){var n=a.points,i=0,o=n.length/2;if(a.connectNulls){for(;o>0&&gt(n[o*2-2],n[o*2-1]);o--);for(;i<o&&gt(n[i*2],n[i*2+1]);i++);}for(;i<o;)i+=ve(e,n,i,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(e,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,i=n.data,o=Vr.CMD,s,u,l=a==="x",f=[],v=0;v<i.length;){var h=i[v++],c=void 0,d=void 0,g=void 0,p=void 0,y=void 0,S=void 0,m=void 0;switch(h){case o.M:s=i[v++],u=i[v++];break;case o.L:if(c=i[v++],d=i[v++],m=l?(e-s)/(c-s):(e-u)/(d-u),m<=1&&m>=0){var D=l?(d-u)*m+u:(c-s)*m+s;return l?[e,D]:[D,e]}s=c,u=d;break;case o.C:c=i[v++],d=i[v++],g=i[v++],p=i[v++],y=i[v++],S=i[v++];var A=l?Re(s,c,g,y,e,f):Re(u,d,p,S,e,f);if(A>0)for(var b=0;b<A;b++){var x=f[b];if(x<=1&&x>=0){var D=l?$e(u,d,p,S,x):$e(s,c,g,y,x);return l?[e,D]:[D,e]}}s=y,u=S;break}}},t}(rt),li=function(r){H(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(ra),ui=function(r){H(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new li},t.prototype.buildPath=function(e,a){var n=a.points,i=a.stackedOnPoints,o=0,s=n.length/2,u=a.smoothMonotone;if(a.connectNulls){for(;s>0&&gt(n[s*2-2],n[s*2-1]);s--);for(;o<s&&gt(n[o*2],n[o*2+1]);o++);}for(;o<s;){var l=ve(e,n,o,s,s,1,a.smooth,u,a.connectNulls);ve(e,i,o+l-1,l,s,-1,a.stackedOnSmooth,u,a.connectNulls),o+=l+1,e.closePath()}},t}(rt);function aa(r,t,e,a,n){var i=r.getArea(),o=i.x,s=i.y,u=i.width,l=i.height,f=e.get(["lineStyle","width"])||2;o-=f/2,s-=f/2,u+=f,l+=f,u=Math.ceil(u),o!==Math.floor(o)&&(o=Math.floor(o),u++);var v=new xt({shape:{x:o,y:s,width:u,height:l}});if(t){var h=r.getBaseAxis(),c=h.isHorizontal(),d=h.inverse;c?(d&&(v.shape.x+=u),v.shape.width=0):(d||(v.shape.y+=l),v.shape.height=0);var g=ut(n)?function(p){n(p,v)}:null;et(v,{shape:{width:u,height:l,x:o,y:s}},e,null,a,g)}return v}function na(r,t,e){var a=r.getArea(),n=K(a.r0,1),i=K(a.r,1),o=new Ct({shape:{cx:K(r.cx,1),cy:K(r.cy,1),r0:n,r:i,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var s=r.getBaseAxis().dim==="angle";s?o.shape.endAngle=a.startAngle:o.shape.r=n,et(o,{shape:{endAngle:a.endAngle,r:i}},e)}return o}function vi(r,t,e,a,n){if(r){if(r.type==="polar")return na(r,t,e);if(r.type==="cartesian2d")return aa(r,t,e,a,n)}else return null;return null}function rr(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function ar(r){for(var t=1/0,e=1/0,a=-1/0,n=-1/0,i=0;i<r.length;){var o=r[i++],s=r[i++];isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a)),isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n))}return[[t,e],[a,n]]}function nr(r,t){var e=ar(r),a=e[0],n=e[1],i=ar(t),o=i[0],s=i[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]))}function ir(r){return ye(r)?r:r?.5:0}function fi(r,t,e){if(!e.valueDim)return[];for(var a=t.count(),n=St(a*2),i=0;i<a;i++){var o=ea(e,r,t,i);n[i*2]=o[0],n[i*2+1]=o[1]}return n}function ot(r,t,e,a){var n=t.getBaseAxis(),i=n.dim==="x"||n.dim==="radius"?0:1,o=[],s=0,u=[],l=[],f=[],v=[];if(a){for(s=0;s<r.length;s+=2)!isNaN(r[s])&&!isNaN(r[s+1])&&v.push(r[s],r[s+1]);r=v}for(s=0;s<r.length-2;s+=2)switch(f[0]=r[s+2],f[1]=r[s+3],l[0]=r[s],l[1]=r[s+1],o.push(l[0],l[1]),e){case"end":u[i]=f[i],u[1-i]=l[1-i],o.push(u[0],u[1]);break;case"middle":var h=(l[i]+f[i])/2,c=[];u[i]=c[i]=h,u[1-i]=l[1-i],c[1-i]=f[1-i],o.push(u[0],u[1]),o.push(c[0],c[1]);break;default:u[i]=l[i],u[1-i]=f[1-i],o.push(u[0],u[1])}return o.push(r[s++],r[s++]),o}function ci(r,t){var e=[],a=r.length,n,i;function o(f,v,h){var c=f.coord,d=(h-c)/(v.coord-c),g=en(d,[f.color,v.color]);return{coord:h,color:g}}for(var s=0;s<a;s++){var u=r[s],l=u.coord;if(l<0)n=u;else if(l>t){i?e.push(o(i,u,t)):n&&e.push(o(n,u,0),o(n,u,t));break}else n&&(e.push(o(n,u,0)),n=null),e.push(u),i=u}return e}function hi(r,t,e){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&t.type==="cartesian2d"){for(var n,i,o=a.length-1;o>=0;o--){var s=r.getDimensionInfo(a[o].dimension);if(n=s&&s.coordDim,n==="x"||n==="y"){i=a[o];break}}if(i){var u=t.getAxis(n),l=Y(i.stops,function(m){return{coord:u.toGlobalCoord(u.dataToCoord(m.value)),color:m.color}}),f=l.length,v=i.outerColors.slice();f&&l[0].coord>l[f-1].coord&&(l.reverse(),v.reverse());var h=ci(l,n==="x"?e.getWidth():e.getHeight()),c=h.length;if(!c&&f)return l[0].coord<0?v[1]?v[1]:l[f-1].color:v[0]?v[0]:l[0].color;var d=10,g=h[0].coord-d,p=h[c-1].coord+d,y=p-g;if(y<.001)return"transparent";$(h,function(m){m.offset=(m.coord-g)/y}),h.push({offset:c?h[c-1].offset:.5,color:v[1]||"transparent"}),h.unshift({offset:c?h[0].offset:.5,color:v[0]||"transparent"});var S=new tn(0,0,0,0,h,!0);return S[n]=g,S[n+"2"]=p,S}}}function di(r,t,e){var a=r.get("showAllSymbol"),n=a==="auto";if(!(a&&!n)){var i=e.getAxesByScale("ordinal")[0];if(i&&!(n&&gi(i,t))){var o=t.mapDimension(i.dim),s={};return $(i.getViewLabels(),function(u){var l=i.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(t.get(o,u))}}}}function gi(r,t){var e=r.getExtent(),a=Math.abs(e[1]-e[0])/r.scale.count();isNaN(a)&&(a=0);for(var n=t.count(),i=Math.max(1,Math.round(n/5)),o=0;o<n;o+=i)if(Me.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function pi(r,t){return isNaN(r)||isNaN(t)}function mi(r){for(var t=r.length/2;t>0&&pi(r[t*2-2],r[t*2-1]);t--);return t-1}function or(r,t){return[r[t*2],r[t*2+1]]}function yi(r,t,e){for(var a=r.length/2,n=e==="x"?0:1,i,o,s=0,u=-1,l=0;l<a;l++)if(o=r[l*2+n],!(isNaN(o)||isNaN(r[l*2+1-n]))){if(l===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){u=l;break}s=l,i=o}return{range:[s,u],t:(t-i)/(o-i)}}function ia(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<Be.length;t++)if(r.get([Be[t],"endLabel","show"]))return!0;return!1}function qt(r,t,e,a){if(Ie(t,"cartesian2d")){var n=a.getModel("endLabel"),i=n.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},u=ia(a)?function(c,d){r._endLabelOnDuring(c,d,o,s,i,n,t)}:null,l=t.getBaseAxis().isHorizontal(),f=aa(t,e,a,function(){var c=r._endLabel;c&&e&&s.originalX!=null&&c.attr({x:s.originalX,y:s.originalY})},u);if(!a.get("clip",!0)){var v=f.shape,h=Math.max(v.width,v.height);l?(v.y-=h,v.height+=h*2):(v.x-=h,v.width+=h*2)}return u&&u(1,f),f}else return na(t,e,a)}function bi(r,t){var e=t.getBaseAxis(),a=e.isHorizontal(),n=e.inverse,i=a?n?"right":"left":"center",o=a?"middle":n?"top":"bottom";return{normal:{align:r.get("align")||i,verticalAlign:r.get("verticalAlign")||o}}}var Si=function(r){H(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new Dt,a=new ri;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=e},t.prototype.render=function(e,a,n){var i=this,o=e.coordinateSystem,s=this.group,u=e.getData(),l=e.getModel("lineStyle"),f=e.getModel("areaStyle"),v=u.getLayout("points")||[],h=o.type==="polar",c=this._coordSys,d=this._symbolDraw,g=this._polyline,p=this._polygon,y=this._lineGroup,S=!a.ssr&&e.get("animation"),m=!f.isEmpty(),D=f.get("origin"),A=ta(o,u,D),b=m&&fi(o,u,A),x=e.get("showSymbol"),L=e.get("connectNulls"),C=x&&!h&&di(e,u,o),P=this._data;P&&P.eachItemGraphicEl(function(B,X){B.__temp&&(s.remove(B),P.setItemGraphicEl(X,null))}),x||d.remove(),s.add(y);var T=h?!1:e.get("step"),k;o&&o.getArea&&e.get("clip",!0)&&(k=o.getArea(),k.width!=null?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r+=.5)),this._clipShapeForSymbol=k;var G=hi(u,o,n)||u.getVisual("style")[u.getVisual("drawType")];if(!(g&&c.type===o.type&&T===this._step))x&&d.updateData(u,{isIgnore:C,clipShape:k,disableAnimation:!0,getSymbolPoint:function(B){return[v[B*2],v[B*2+1]]}}),S&&this._initSymbolLabelAnimation(u,o,k),T&&(v=ot(v,o,T,L),b&&(b=ot(b,o,T,L))),g=this._newPolyline(v),m?p=this._newPolygon(v,b):p&&(y.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,Ve(G)),y.setClipPath(qt(this,o,!0,e));else{m&&!p?p=this._newPolygon(v,b):p&&!m&&(y.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,Ve(G));var w=y.getClipPath();if(w){var I=qt(this,o,!1,e);et(w,{shape:I.shape},e)}else y.setClipPath(qt(this,o,!0,e));x&&d.updateData(u,{isIgnore:C,clipShape:k,disableAnimation:!0,getSymbolPoint:function(B){return[v[B*2],v[B*2+1]]}}),(!rr(this._stackedOnPoints,b)||!rr(this._points,v))&&(S?this._doUpdateAnimation(u,b,o,n,T,D,L):(T&&(v=ot(v,o,T,L),b&&(b=ot(b,o,T,L))),g.setShape({points:v}),p&&p.setShape({points:v,stackedOnPoints:b})))}var _=e.getModel("emphasis"),E=_.get("focus"),M=_.get("blurScope"),O=_.get("disabled");if(g.useStyle(Z(l.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"})),oe(g,e,"lineStyle"),g.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var N=g.getState("emphasis").style;N.lineWidth=+g.style.lineWidth+1}dt(g).seriesIndex=e.seriesIndex,Gt(g,E,M,O);var R=ir(e.get("smooth")),z=e.get("smoothMonotone");if(g.setShape({smooth:R,smoothMonotone:z,connectNulls:L}),p){var V=u.getCalculationInfo("stackedOnSeries"),F=0;p.useStyle(Z(f.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),V&&(F=ir(V.get("smooth"))),p.setShape({smooth:R,stackedOnSmooth:F,smoothMonotone:z,connectNulls:L}),oe(p,e,"areaStyle"),dt(p).seriesIndex=e.seriesIndex,Gt(p,E,M,O)}var W=function(B){i._changePolyState(B)};u.eachItemGraphicEl(function(B){B&&(B.onHoverStateChange=W)}),this._polyline.onHoverStateChange=W,this._data=u,this._coordSys=o,this._stackedOnPoints=b,this._points=v,this._step=T,this._valueOrigin=D,e.get("triggerLineEvent")&&(this.packEventData(e,g),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,a){dt(a).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,a,n,i){var o=e.getData(),s=Fe(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),l=o.getItemGraphicEl(s);if(!l){var f=u[s*2],v=u[s*2+1];if(isNaN(f)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,v))return;var h=e.get("zlevel")||0,c=e.get("z")||0;l=new Me(o,s),l.x=f,l.y=v,l.setZ(h,c);var d=l.getSymbolPath().getTextContent();d&&(d.zlevel=h,d.z=c,d.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Ot.prototype.highlight.call(this,e,a,n,i)},t.prototype.downplay=function(e,a,n,i){var o=e.getData(),s=Fe(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else Ot.prototype.downplay.call(this,e,a,n,i)},t.prototype._changePolyState=function(e){var a=this._polygon;ze(this._polyline,e),a&&ze(a,e)},t.prototype._newPolyline=function(e){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new si({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(e,a){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new ui({shape:{points:e,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,a,n){var i,o,s=a.getBaseAxis(),u=s.inverse;a.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):a.type==="polar"&&(i=s.dim==="angle",o=!0);var l=e.hostModel,f=l.get("animationDuration");ut(f)&&(f=f(null));var v=l.get("animationDelay")||0,h=ut(v)?v(null):v;e.eachItemGraphicEl(function(c,d){var g=c;if(g){var p=[c.x,c.y],y=void 0,S=void 0,m=void 0;if(n)if(o){var D=n,A=a.pointToCoord(p);i?(y=D.startAngle,S=D.endAngle,m=-A[1]/180*Math.PI):(y=D.r0,S=D.r,m=A[0])}else{var b=n;i?(y=b.x,S=b.x+b.width,m=c.x):(y=b.y+b.height,S=b.y,m=c.y)}var x=S===y?0:(m-y)/(S-y);u&&(x=1-x);var L=ut(v)?v(d):f*x+h,C=g.getSymbolPath(),P=C.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:L}),P&&P.animateFrom({style:{opacity:0}},{duration:300,delay:L}),C.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,a,n){var i=e.getModel("endLabel");if(ia(e)){var o=e.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new Qa({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var f=mi(u);f>=0&&(pe(s,Bt(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:f,defaultText:function(v,h,c){return c!=null?Kr(o,c):De(o,v)},enableTextSetter:!0},bi(i,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,a,n,i,o,s,u){var l=this._endLabel,f=this._polyline;if(l){e<1&&i.originalX==null&&(i.originalX=l.x,i.originalY=l.y);var v=n.getLayout("points"),h=n.hostModel,c=h.get("connectNulls"),d=s.get("precision"),g=s.get("distance")||0,p=u.getBaseAxis(),y=p.isHorizontal(),S=p.inverse,m=a.shape,D=S?y?m.x:m.y+m.height:y?m.x+m.width:m.y,A=(y?g:0)*(S?-1:1),b=(y?0:-g)*(S?-1:1),x=y?"x":"y",L=yi(v,D,x),C=L.range,P=C[1]-C[0],T=void 0;if(P>=1){if(P>1&&!c){var k=or(v,C[0]);l.attr({x:k[0]+A,y:k[1]+b}),o&&(T=h.getRawValue(C[0]))}else{var k=f.getPointOn(D,x);k&&l.attr({x:k[0]+A,y:k[1]+b});var G=h.getRawValue(C[0]),w=h.getRawValue(C[1]);o&&(T=Ka(n,d,G,w,L.t))}i.lastFrameIndex=C[0]}else{var I=e===1||i.lastFrameIndex>0?C[0]:0,k=or(v,I);o&&(T=h.getRawValue(I)),l.attr({x:k[0]+A,y:k[1]+b})}if(o){var _=Fr(l);typeof _.setLabelText=="function"&&_.setLabelText(T)}}},t.prototype._doUpdateAnimation=function(e,a,n,i,o,s,u){var l=this._polyline,f=this._polygon,v=e.hostModel,h=oi(this._data,e,this._stackedOnPoints,a,this._coordSys,n,this._valueOrigin),c=h.current,d=h.stackedOnCurrent,g=h.next,p=h.stackedOnNext;if(o&&(c=ot(h.current,n,o,u),d=ot(h.stackedOnCurrent,n,o,u),g=ot(h.next,n,o,u),p=ot(h.stackedOnNext,n,o,u)),nr(c,g)>3e3||f&&nr(d,p)>3e3){l.stopAnimation(),l.setShape({points:g}),f&&(f.stopAnimation(),f.setShape({points:g,stackedOnPoints:p}));return}l.shape.__points=h.current,l.shape.points=c;var y={shape:{points:g}};h.current!==c&&(y.shape.__points=h.next),l.stopAnimation(),tt(l,y,v),f&&(f.setShape({points:c,stackedOnPoints:d}),f.stopAnimation(),tt(f,{shape:{stackedOnPoints:p}},v),l.shape.points!==f.shape.points&&(f.shape.points=l.shape.points));for(var S=[],m=h.status,D=0;D<m.length;D++){var A=m[D].cmd;if(A==="="){var b=e.getItemGraphicEl(m[D].idx1);b&&S.push({el:b,ptIdx:D})}}l.animators&&l.animators.length&&l.animators[0].during(function(){f&&f.dirtyShape();for(var x=l.shape.__points,L=0;L<S.length;L++){var C=S[L].el,P=S[L].ptIdx*2;C.x=x[P],C.y=x[P+1],C.markRedraw()}})},t.prototype.remove=function(e){var a=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(a.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Ot);function Ai(r,t){return{seriesType:r,plan:rn(),reset:function(e){var a=e.getData(),n=e.coordinateSystem;if(e.pipelineContext,!!n){var i=Y(n.dimensions,function(v){return a.mapDimension(v)}).slice(0,2),o=i.length,s=a.getCalculationInfo("stackResultDimension");Nt(a,i[0])&&(i[0]=s),Nt(a,i[1])&&(i[1]=s);var u=a.getStore(),l=a.getDimensionIndex(i[0]),f=a.getDimensionIndex(i[1]);return o&&{progress:function(v,h){for(var c=v.end-v.start,d=St(c*o),g=[],p=[],y=v.start,S=0;y<v.end;y++){var m=void 0;if(o===1){var D=u.get(l,y);m=n.dataToPoint(D,null,p)}else g[0]=u.get(l,y),g[1]=u.get(f,y),m=n.dataToPoint(g,null,p);d[S++]=m[0],d[S++]=m[1]}h.setLayout("points",d)}}}}}}var xi={average:function(r){for(var t=0,e=0,a=0;a<r.length;a++)isNaN(r[a])||(t+=r[a],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},minmax:function(r){for(var t=-1/0,e=-1/0,a=0;a<r.length;a++){var n=r[a],i=Math.abs(n);i>t&&(t=i,e=n)}return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},Di=function(r){return Math.round(r.length/2)};function oa(r){return{seriesType:r,reset:function(t,e,a){var n=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=n.count();if(s>10&&o.type==="cartesian2d"&&i){var u=o.getBaseAxis(),l=o.getOtherAxis(u),f=u.getExtent(),v=a.getDevicePixelRatio(),h=Math.abs(f[1]-f[0])*(v||1),c=Math.round(s/h);if(isFinite(c)&&c>1){i==="lttb"&&t.setData(n.lttbDownSample(n.mapDimension(l.dim),1/c));var d=void 0;an(i)?d=xi[i]:ut(i)&&(d=i),d&&t.setData(n.downSample(n.mapDimension(l.dim),1/c,d,Di))}}}}}function yo(r){r.registerChartView(Si),r.registerSeriesModel(ai),r.registerLayout(Ai("line")),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,oa("line"))}var fe=function(r){H(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return Ae(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,a,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(e),s=i.dataToPoint(o);if(n)$(i.getAxes(),function(h,c){if(h.type==="category"&&a!=null){var d=h.getTicksCoords(),g=h.getTickModel().get("alignWithLabel"),p=o[c],y=a[c]==="x1"||a[c]==="y1";if(y&&!g&&(p+=1),d.length<2)return;if(d.length===2){s[c]=h.toGlobalCoord(h.getExtent()[y?1:0]);return}for(var S=void 0,m=void 0,D=1,A=0;A<d.length;A++){var b=d[A].coord,x=A===d.length-1?d[A-1].tickValue+D:d[A].tickValue;if(x===p){m=b;break}else if(x<p)S=b;else if(S!=null&&x>p){m=(b+S)/2;break}A===1&&(D=x-d[0].tickValue)}m==null&&(S?S&&(m=d[d.length-1].coord):m=d[0].coord),s[c]=h.toGlobalCoord(m)}});else{var u=this.getData(),l=u.getLayout("offset"),f=u.getLayout("size"),v=i.getBaseAxis().isHorizontal()?0:1;s[v]+=l+f/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(me);me.registerClass(fe);var Mi=function(r){H(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return Ae(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>e&&(e=a),e},t.prototype.brushSelector=function(e,a,n){return n.rect(a.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=nn(fe.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(fe),Ii=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),sr=function(r){H(t,r);function t(e){var a=r.call(this,e)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new Ii},t.prototype.buildPath=function(e,a){var n=a.cx,i=a.cy,o=Math.max(a.r0||0,0),s=Math.max(a.r,0),u=(s-o)*.5,l=o+u,f=a.startAngle,v=a.endAngle,h=a.clockwise,c=Math.PI*2,d=h?v-f<c:f-v<c;d||(f=v-(h?c:-c));var g=Math.cos(f),p=Math.sin(f),y=Math.cos(v),S=Math.sin(v);d?(e.moveTo(g*o+n,p*o+i),e.arc(g*l+n,p*l+i,u,-Math.PI+f,f,!h)):e.moveTo(g*s+n,p*s+i),e.arc(n,i,s,f,v,!h),e.arc(y*l+n,S*l+i,u,v-Math.PI*2,v-Math.PI,!h),o!==0&&e.arc(n,i,o,v,f,h)},t}(rt);function _i(r,t){t=t||{};var e=t.isRoundCap;return function(a,n,i){var o=n.position;if(!o||o instanceof Array)return We(a,n,i);var s=r(o),u=n.distance!=null?n.distance:5,l=this.shape,f=l.cx,v=l.cy,h=l.r,c=l.r0,d=(h+c)/2,g=l.startAngle,p=l.endAngle,y=(g+p)/2,S=e?Math.abs(h-c)/2:0,m=Math.cos,D=Math.sin,A=f+h*m(g),b=v+h*D(g),x="left",L="top";switch(s){case"startArc":A=f+(c-u)*m(y),b=v+(c-u)*D(y),x="center",L="top";break;case"insideStartArc":A=f+(c+u)*m(y),b=v+(c+u)*D(y),x="center",L="bottom";break;case"startAngle":A=f+d*m(g)+Pt(g,u+S,!1),b=v+d*D(g)+Et(g,u+S,!1),x="right",L="middle";break;case"insideStartAngle":A=f+d*m(g)+Pt(g,-u+S,!1),b=v+d*D(g)+Et(g,-u+S,!1),x="left",L="middle";break;case"middle":A=f+d*m(y),b=v+d*D(y),x="center",L="middle";break;case"endArc":A=f+(h+u)*m(y),b=v+(h+u)*D(y),x="center",L="bottom";break;case"insideEndArc":A=f+(h-u)*m(y),b=v+(h-u)*D(y),x="center",L="top";break;case"endAngle":A=f+d*m(p)+Pt(p,u+S,!0),b=v+d*D(p)+Et(p,u+S,!0),x="left",L="middle";break;case"insideEndAngle":A=f+d*m(p)+Pt(p,-u+S,!0),b=v+d*D(p)+Et(p,-u+S,!0),x="right",L="middle";break;default:return We(a,n,i)}return a=a||{},a.x=A,a.y=b,a.align=x,a.verticalAlign=L,a}}function Ci(r,t,e,a){if(ye(a)){r.setTextConfig({rotation:a});return}else if(Q(t)){r.setTextConfig({rotation:0});return}var n=r.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,s=(i+o)/2,u,l=e(t);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=s;break;case"startAngle":case"insideStartAngle":u=i;break;case"endAngle":case"insideEndAngle":u=o;break;default:r.setTextConfig({rotation:0});return}var f=Math.PI*1.5-u;l==="middle"&&f>Math.PI/2&&f<Math.PI*1.5&&(f-=Math.PI),r.setTextConfig({rotation:f})}function Pt(r,t,e){return t*Math.sin(r)*(e?-1:1)}function Et(r,t,e){return t*Math.cos(r)*(e?1:-1)}var Jt=Math.max,Qt=Math.min;function Ti(r,t){var e=r.getArea&&r.getArea();if(Ie(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var n=t.getLayout("bandWidth");a.isHorizontal()?(e.x-=n,e.width+=n*2):(e.y-=n,e.height+=n*2)}}return e}var Li=function(r){H(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,a,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,a,n):this._renderNormal(e,a,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,a){this._progressiveEls=[],this._incrementalRenderLarge(e,a)},t.prototype.eachRendered=function(e){$r(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e,a,n,i){var o=this.group,s=e.getData(),u=this._data,l=e.coordinateSystem,f=l.getBaseAxis(),v;l.type==="cartesian2d"?v=f.isHorizontal():l.type==="polar"&&(v=f.dim==="angle");var h=e.isAnimationEnabled()?e:null,c=wi(e,l);c&&this._enableRealtimeSort(c,s,n);var d=e.get("clip",!0)||c,g=Ti(l,s);o.removeClipPath();var p=e.get("roundCap",!0),y=e.get("showBackground",!0),S=e.getModel("backgroundStyle"),m=S.get("borderRadius")||0,D=[],A=this._backgroundEls,b=i&&i.isInitSort,x=i&&i.type==="changeAxisOrder";function L(T){var k=kt[l.type](s,T),G=Ri(l,v,k);return G.useStyle(S.getItemStyle()),l.type==="cartesian2d"?G.setShape("r",m):G.setShape("cornerRadius",m),D[T]=G,G}s.diff(u).add(function(T){var k=s.getItemModel(T),G=kt[l.type](s,T,k);if(y&&L(T),!(!s.hasValue(T)||!cr[l.type](G))){var w=!1;d&&(w=lr[l.type](g,G));var I=ur[l.type](e,s,T,G,v,h,f.model,!1,p);c&&(I.forceLabelAnimation=!0),hr(I,s,T,k,G,e,v,l.type==="polar"),b?I.attr({shape:G}):c?vr(c,h,I,G,T,v,!1,!1):et(I,{shape:G},e,T),s.setItemGraphicEl(T,I),o.add(I),I.ignore=w}}).update(function(T,k){var G=s.getItemModel(T),w=kt[l.type](s,T,G);if(y){var I=void 0;A.length===0?I=L(k):(I=A[k],I.useStyle(S.getItemStyle()),l.type==="cartesian2d"?I.setShape("r",m):I.setShape("cornerRadius",m),D[T]=I);var _=kt[l.type](s,T),E=la(v,_,l);tt(I,{shape:E},h,T)}var M=u.getItemGraphicEl(k);if(!s.hasValue(T)||!cr[l.type](w)){o.remove(M);return}var O=!1;if(d&&(O=lr[l.type](g,w),O&&o.remove(M)),M?Rr(M):M=ur[l.type](e,s,T,w,v,h,f.model,!!M,p),c&&(M.forceLabelAnimation=!0),x){var N=M.getTextContent();if(N){var R=Fr(N);R.prevValue!=null&&(R.prevValue=R.value)}}else hr(M,s,T,G,w,e,v,l.type==="polar");b?M.attr({shape:w}):c?vr(c,h,M,w,T,v,!0,x):tt(M,{shape:w},e,T,null),s.setItemGraphicEl(T,M),M.ignore=O,o.add(M)}).remove(function(T){var k=u.getItemGraphicEl(T);k&&He(k,e,T)}).execute();var C=this._backgroundGroup||(this._backgroundGroup=new Dt);C.removeAll();for(var P=0;P<D.length;++P)C.add(D[P]);o.add(C),this._backgroundEls=D,this._data=s},t.prototype._renderLarge=function(e,a,n){this._clear(),gr(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,a){this._removeBackground(),gr(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var a=e.get("clip",!0)&&vi(e.coordinateSystem,!1,e),n=this.group;a?n.setClipPath(a):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,a,n){var i=this;if(a.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,e,n),this._isFirstFrame=!1;else{var s=function(u){var l=a.getItemGraphicEl(u),f=l&&l.shape;return f&&Math.abs(o.isHorizontal()?f.height:f.width)||0};this._onRendered=function(){i._updateSortWithinSameData(a,s,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,a,n){var i=[];return e.each(e.mapDimension(a.dim),function(o,s){var u=n(s);u=u??NaN,i.push({dataIndex:s,mappedValue:u,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Y(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,a,n){for(var i=n.scale,o=e.mapDimension(n.dim),s=Number.MAX_VALUE,u=0,l=i.getOrdinalMeta().categories.length;u<l;++u){var f=e.rawIndexOf(o,i.getRawOrdinalNumber(u)),v=f<0?Number.MIN_VALUE:a(e.indexOfRawIndex(f));if(v>s)return!0;s=v}return!1},t.prototype._isOrderDifferentInView=function(e,a){for(var n=a.scale,i=n.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,a,n,i){if(this._isOrderChangedWithinSameData(e,a,n)){var o=this._dataSort(e,n,a);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,a,n){var i=a.baseAxis,o=this._dataSort(e,i,function(s){return e.get(e.mapDimension(a.otherAxis.dim),s)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(e,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(e,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var a=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){He(i,e,dt(i).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Ot),lr={cartesian2d:function(r,t){var e=t.width<0?-1:1,a=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var n=r.x+r.width,i=r.y+r.height,o=Jt(t.x,r.x),s=Qt(t.x+t.width,n),u=Jt(t.y,r.y),l=Qt(t.y+t.height,i),f=s<o,v=l<u;return t.x=f&&o>n?s:o,t.y=v&&u>i?l:u,t.width=f?0:s-o,t.height=v?0:l-u,e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),f||v},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}var n=Qt(t.r,r.r),i=Jt(t.r0,r.r0);t.r=n,t.r0=i;var o=n-i<0;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}return o}},ur={cartesian2d:function(r,t,e,a,n,i,o,s,u){var l=new xt({shape:pt({},a),z2:1});if(l.__dataIndex=e,l.name="item",i){var f=l.shape,v=n?"height":"width";f[v]=0}return l},polar:function(r,t,e,a,n,i,o,s,u){var l=!n&&u?sr:Ct,f=new l({shape:a,z2:1});f.name="item";var v=sa(n);if(f.calculateTextPosition=_i(v,{isRoundCap:l===sr}),i){var h=f.shape,c=n?"r":"endAngle",d={};h[c]=n?a.r0:a.startAngle,d[c]=a[c],(s?tt:et)(f,{shape:d},i)}return f}};function wi(r,t){var e=r.get("realtimeSort",!0),a=t.getBaseAxis();if(e&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function vr(r,t,e,a,n,i,o,s){var u,l;i?(l={x:a.x,width:a.width},u={y:a.y,height:a.height}):(l={y:a.y,height:a.height},u={x:a.x,width:a.width}),s||(o?tt:et)(e,{shape:u},t,n,null);var f=t?r.baseAxis.model:null;(o?tt:et)(e,{shape:l},f,n)}function fr(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var Pi=["x","y","width","height"],Ei=["cx","cy","r","startAngle","endAngle"],cr={cartesian2d:function(r){return!fr(r,Pi)},polar:function(r){return!fr(r,Ei)}},kt={cartesian2d:function(r,t,e){var a=r.getItemLayout(t),n=e?Oi(e,a):0,i=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+i*n/2,y:a.y+o*n/2,width:a.width-i*n,height:a.height-o*n}},polar:function(r,t,e){var a=r.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function ki(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function sa(r){return function(t){var e=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+e;default:return a}}}(r)}function hr(r,t,e,a,n,i,o,s){var u=t.getItemVisual(e,"style");if(s){if(!i.get("roundCap")){var f=r.shape,v=on(a.getModel("itemStyle"),f,!0);pt(f,v),r.setShape(f)}}else{var l=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",l)}r.useStyle(u);var h=a.getShallow("cursor");h&&r.attr("cursor",h);var c=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",d=Bt(a);pe(r,d,{labelFetcher:i,labelDataIndex:e,defaultText:De(i.getData(),e),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:c});var g=r.getTextContent();if(s&&g){var p=a.get(["label","position"]);r.textConfig.inside=p==="middle"?!0:null,Ci(r,p==="outside"?c:p,sa(o),a.get(["label","rotate"]))}sn(g,d,i.getRawValue(e),function(S){return Kr(t,S)});var y=a.getModel(["emphasis"]);Gt(r,y.get("focus"),y.get("blurScope"),y.get("disabled")),oe(r,a),ki(n)&&(r.style.fill="none",r.style.stroke="none",$(r.states,function(S){S.style&&(S.style.fill=S.style.stroke="none")}))}function Oi(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,n=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,n,i)}var Gi=function(){function r(){}return r}(),dr=function(r){H(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new Gi},t.prototype.buildPath=function(e,a){for(var n=a.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],u=[],l=this.barWidth,f=0;f<n.length;f+=3)u[i]=l,u[o]=n[f+2],s[i]=n[f+i],s[o]=n[f+o],e.rect(s[0],s[1],u[0],u[1])},t}(rt);function gr(r,t,e,a){var n=r.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),u=r.getModel("backgroundStyle"),l=n.getLayout("largeBackgroundPoints");if(l){var f=new dr({shape:{points:l},incremental:!!a,silent:!0,z2:0});f.baseDimIdx=i,f.largeDataIndices=o,f.barWidth=s,f.useStyle(u.getItemStyle()),t.add(f),e&&e.push(f)}var v=new dr({shape:{points:n.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});v.baseDimIdx=i,v.largeDataIndices=o,v.barWidth=s,t.add(v),v.useStyle(n.getVisual("style")),dt(v).seriesIndex=r.seriesIndex,r.get("silent")||(v.on("mousedown",pr),v.on("mousemove",pr)),e&&e.push(v)}var pr=ln(function(r){var t=this,e=Ni(t,r.offsetX,r.offsetY);dt(t).dataIndex=e>=0?e:null},30,!1);function Ni(r,t,e){for(var a=r.baseDimIdx,n=1-a,i=r.shape.points,o=r.largeDataIndices,s=[],u=[],l=r.barWidth,f=0,v=i.length/3;f<v;f++){var h=f*3;if(u[a]=l,u[n]=i[h+2],s[a]=i[h+a],s[n]=i[h+n],u[n]<0&&(s[n]+=u[n],u[n]=-u[n]),t>=s[0]&&t<=s[0]+u[0]&&e>=s[1]&&e<=s[1]+u[1])return o[f]}return-1}function la(r,t,e){if(Ie(e,"cartesian2d")){var a=t,n=e.getArea();return{x:r?a.x:n.x,y:r?n.y:a.y,width:r?a.width:n.width,height:r?n.height:a.height}}else{var n=e.getArea(),i=t;return{cx:n.cx,cy:n.cy,r0:r?n.r0:i.r0,r:r?n.r:i.r,startAngle:r?i.startAngle:0,endAngle:r?i.endAngle:Math.PI*2}}}function Ri(r,t,e){var a=r.type==="polar"?Ct:xt;return new a({shape:la(t,e,r),silent:!0,z2:0})}function bo(r){r.registerChartView(Li),r.registerSeriesModel(Mi),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,kr(vn,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,un("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,oa("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var a=t.componentType||"series";e.eachComponent({mainType:a,query:t},function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)})})}var J=Vr.CMD;function At(r,t){return Math.abs(r-t)<1e-5}function ce(r){var t=r.data,e=r.len(),a=[],n,i=0,o=0,s=0,u=0;function l(G,w){n&&n.length>2&&a.push(n),n=[G,w]}function f(G,w,I,_){At(G,I)&&At(w,_)||n.push(G,w,I,_,I,_)}function v(G,w,I,_,E,M){var O=Math.abs(w-G),N=Math.tan(O/4)*4/3,R=w<G?-1:1,z=Math.cos(G),V=Math.sin(G),F=Math.cos(w),W=Math.sin(w),B=z*E+I,X=V*M+_,at=F*E+I,q=W*M+_,U=E*N*R,j=M*N*R;n.push(B-U*V,X+j*z,at+U*W,q-j*F,at,q)}for(var h,c,d,g,p=0;p<e;){var y=t[p++],S=p===1;switch(S&&(i=t[p],o=t[p+1],s=i,u=o,(y===J.L||y===J.C||y===J.Q)&&(n=[s,u])),y){case J.M:i=s=t[p++],o=u=t[p++],l(s,u);break;case J.L:h=t[p++],c=t[p++],f(i,o,h,c),i=h,o=c;break;case J.C:n.push(t[p++],t[p++],t[p++],t[p++],i=t[p++],o=t[p++]);break;case J.Q:h=t[p++],c=t[p++],d=t[p++],g=t[p++],n.push(i+2/3*(h-i),o+2/3*(c-o),d+2/3*(h-d),g+2/3*(c-g),d,g),i=d,o=g;break;case J.A:var m=t[p++],D=t[p++],A=t[p++],b=t[p++],x=t[p++],L=t[p++]+x;p+=1;var C=!t[p++];h=Math.cos(x)*A+m,c=Math.sin(x)*b+D,S?(s=h,u=c,l(s,u)):f(i,o,h,c),i=Math.cos(L)*A+m,o=Math.sin(L)*b+D;for(var P=(C?-1:1)*Math.PI/2,T=x;C?T>L:T<L;T+=P){var k=C?Math.max(T+P,L):Math.min(T+P,L);v(T,k,m,D,A,b)}break;case J.R:s=i=t[p++],u=o=t[p++],h=s+t[p++],c=u+t[p++],l(h,u),f(h,u,h,c),f(h,c,s,c),f(s,c,s,u),f(s,u,h,u);break;case J.Z:n&&f(i,o,s,u),i=s,o=u;break}}return n&&n.length>2&&a.push(n),a}function he(r,t,e,a,n,i,o,s,u,l){if(At(r,e)&&At(t,a)&&At(n,o)&&At(i,s)){u.push(o,s);return}var f=2/l,v=f*f,h=o-r,c=s-t,d=Math.sqrt(h*h+c*c);h/=d,c/=d;var g=e-r,p=a-t,y=n-o,S=i-s,m=g*g+p*p,D=y*y+S*S;if(m<v&&D<v){u.push(o,s);return}var A=h*g+c*p,b=-h*y-c*S,x=m-A*A,L=D-b*b;if(x<v&&A>=0&&L<v&&b>=0){u.push(o,s);return}var C=[],P=[];Rt(r,e,n,o,.5,C),Rt(t,a,i,s,.5,P),he(C[0],P[0],C[1],P[1],C[2],P[2],C[3],P[3],u,l),he(C[4],P[4],C[5],P[5],C[6],P[6],C[7],P[7],u,l)}function $i(r,t){var e=ce(r),a=[];t=t||1;for(var n=0;n<e.length;n++){var i=e[n],o=[],s=i[0],u=i[1];o.push(s,u);for(var l=2;l<i.length;){var f=i[l++],v=i[l++],h=i[l++],c=i[l++],d=i[l++],g=i[l++];he(s,u,f,v,h,c,d,g,o,t),s=d,u=g}a.push(o)}return a}function ua(r,t,e){var a=r[t],n=r[1-t],i=Math.abs(a/n),o=Math.ceil(Math.sqrt(i*e)),s=Math.floor(e/o);s===0&&(s=1,o=e);for(var u=[],l=0;l<o;l++)u.push(s);var f=o*s,v=e-f;if(v>0)for(var l=0;l<v;l++)u[l%o]+=1;return u}function mr(r,t,e){for(var a=r.r0,n=r.r,i=r.startAngle,o=r.endAngle,s=Math.abs(o-i),u=s*n,l=n-a,f=u>Math.abs(l),v=ua([u,l],f?0:1,t),h=(f?s:l)/v.length,c=0;c<v.length;c++)for(var d=(f?l:s)/v[c],g=0;g<v[c];g++){var p={};f?(p.startAngle=i+h*c,p.endAngle=i+h*(c+1),p.r0=a+d*g,p.r=a+d*(g+1)):(p.startAngle=i+d*g,p.endAngle=i+d*(g+1),p.r0=a+h*c,p.r=a+h*(c+1)),p.clockwise=r.clockwise,p.cx=r.cx,p.cy=r.cy,e.push(p)}}function Vi(r,t,e){for(var a=r.width,n=r.height,i=a>n,o=ua([a,n],i?0:1,t),s=i?"width":"height",u=i?"height":"width",l=i?"x":"y",f=i?"y":"x",v=r[s]/o.length,h=0;h<o.length;h++)for(var c=r[u]/o[h],d=0;d<o[h];d++){var g={};g[l]=h*v,g[f]=d*c,g[s]=v,g[u]=c,g.x+=r.x,g.y+=r.y,e.push(g)}}function yr(r,t,e,a){return r*a-e*t}function Fi(r,t,e,a,n,i,o,s){var u=e-r,l=a-t,f=o-n,v=s-i,h=yr(f,v,u,l);if(Math.abs(h)<1e-6)return null;var c=r-n,d=t-i,g=yr(c,d,f,v)/h;return g<0||g>1?null:new ht(g*u+r,g*l+t)}function zi(r,t,e){var a=new ht;ht.sub(a,e,t),a.normalize();var n=new ht;ht.sub(n,r,t);var i=n.dot(a);return i}function yt(r,t){var e=r[r.length-1];e&&e[0]===t[0]&&e[1]===t[1]||r.push(t)}function Bi(r,t,e){for(var a=r.length,n=[],i=0;i<a;i++){var o=r[i],s=r[(i+1)%a],u=Fi(o[0],o[1],s[0],s[1],t.x,t.y,e.x,e.y);u&&n.push({projPt:zi(u,t,e),pt:u,idx:i})}if(n.length<2)return[{points:r},{points:r}];n.sort(function(p,y){return p.projPt-y.projPt});var l=n[0],f=n[n.length-1];if(f.idx<l.idx){var v=l;l=f,f=v}for(var h=[l.pt.x,l.pt.y],c=[f.pt.x,f.pt.y],d=[h],g=[c],i=l.idx+1;i<=f.idx;i++)yt(d,r[i].slice());yt(d,c),yt(d,h);for(var i=f.idx+1;i<=l.idx+a;i++)yt(g,r[i%a].slice());return yt(g,h),yt(g,c),[{points:d},{points:g}]}function br(r){var t=r.points,e=[],a=[];zr(t,e,a);var n=new ae(e[0],e[1],a[0]-e[0],a[1]-e[1]),i=n.width,o=n.height,s=n.x,u=n.y,l=new ht,f=new ht;return i>o?(l.x=f.x=s+i/2,l.y=u,f.y=u+o):(l.y=f.y=u+o/2,l.x=s,f.x=s+i),Bi(t,l,f)}function $t(r,t,e,a){if(e===1)a.push(t);else{var n=Math.floor(e/2),i=r(t);$t(r,i[0],n,a),$t(r,i[1],e-n,a)}return a}function Wi(r,t){for(var e=[],a=0;a<t;a++)e.push(be(r));return e}function Hi(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function Yi(r){for(var t=[],e=0;e<r.length;)t.push([r[e++],r[e++]]);return t}function Ui(r,t){var e=[],a=r.shape,n;switch(r.type){case"rect":Vi(a,t,e),n=xt;break;case"sector":mr(a,t,e),n=Ct;break;case"circle":mr({r0:0,r:a.r,startAngle:0,endAngle:Math.PI*2,cx:a.cx,cy:a.cy},t,e),n=Ct;break;default:var i=r.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=Y($i(r.getUpdatedPathProxy(),o),function(y){return Yi(y)}),u=s.length;if(u===0)$t(br,{points:s[0]},t,e);else if(u===t)for(var l=0;l<u;l++)e.push({points:s[l]});else{var f=0,v=Y(s,function(y){var S=[],m=[];zr(y,S,m);var D=(m[1]-S[1])*(m[0]-S[0]);return f+=D,{poly:y,area:D}});v.sort(function(y,S){return S.area-y.area});for(var h=t,l=0;l<u;l++){var c=v[l];if(h<=0)break;var d=l===u-1?h:Math.ceil(c.area/f*t);d<0||($t(br,{points:c.poly},d,e),h-=d)}}n=fn;break}if(!n)return Wi(r,t);for(var g=[],l=0;l<e.length;l++){var p=new n;p.setShape(e[l]),Hi(r,p),g.push(p)}return g}function Zi(r,t){var e=r.length,a=t.length;if(e===a)return[r,t];for(var n=[],i=[],o=e<a?r:t,s=Math.min(e,a),u=Math.abs(a-e)/6,l=(s-2)/6,f=Math.ceil(u/l)+1,v=[o[0],o[1]],h=u,c=2;c<s;){var d=o[c-2],g=o[c-1],p=o[c++],y=o[c++],S=o[c++],m=o[c++],D=o[c++],A=o[c++];if(h<=0){v.push(p,y,S,m,D,A);continue}for(var b=Math.min(h,f-1)+1,x=1;x<=b;x++){var L=x/b;Rt(d,p,S,D,L,n),Rt(g,y,m,A,L,i),d=n[3],g=i[3],v.push(n[1],i[1],n[2],i[2],d,g),p=n[5],y=i[5],S=n[6],m=i[6]}h-=b-1}return o===r?[v,t]:[r,v]}function Sr(r,t){for(var e=r.length,a=r[e-2],n=r[e-1],i=[],o=0;o<t.length;)i[o++]=a,i[o++]=n;return i}function Xi(r,t){for(var e,a,n,i=[],o=[],s=0;s<Math.max(r.length,t.length);s++){var u=r[s],l=t[s],f=void 0,v=void 0;u?l?(e=Zi(u,l),f=e[0],v=e[1],a=f,n=v):(v=Sr(n||u,u),f=u):(f=Sr(a||l,l),v=l),i.push(f),o.push(v)}return[i,o]}function Ar(r){for(var t=0,e=0,a=0,n=r.length,i=0,o=n-2;i<n;o=i,i+=2){var s=r[o],u=r[o+1],l=r[i],f=r[i+1],v=s*f-l*u;t+=v,e+=(s+l)*v,a+=(u+f)*v}return t===0?[r[0]||0,r[1]||0]:[e/t/3,a/t/3,t]}function ji(r,t,e,a){for(var n=(r.length-2)/6,i=1/0,o=0,s=r.length,u=s-2,l=0;l<n;l++){for(var f=l*6,v=0,h=0;h<s;h+=2){var c=h===0?f:(f+h-2)%u+2,d=r[c]-e[0],g=r[c+1]-e[1],p=t[h]-a[0],y=t[h+1]-a[1],S=p-d,m=y-g;v+=S*S+m*m}v<i&&(i=v,o=l)}return o}function qi(r){for(var t=[],e=r.length,a=0;a<e;a+=2)t[a]=r[e-a-2],t[a+1]=r[e-a-1];return t}function Ji(r,t,e,a){for(var n=[],i,o=0;o<r.length;o++){var s=r[o],u=t[o],l=Ar(s),f=Ar(u);i==null&&(i=l[2]<0!=f[2]<0);var v=[],h=[],c=0,d=1/0,g=[],p=s.length;i&&(s=qi(s));for(var y=ji(s,u,l,f)*6,S=p-2,m=0;m<S;m+=2){var D=(y+m)%S+2;v[m+2]=s[D]-l[0],v[m+3]=s[D+1]-l[1]}v[0]=s[y]-l[0],v[1]=s[y+1]-l[1];for(var A=a/e,b=-a/2;b<=a/2;b+=A){for(var x=Math.sin(b),L=Math.cos(b),C=0,m=0;m<s.length;m+=2){var P=v[m],T=v[m+1],k=u[m]-f[0],G=u[m+1]-f[1],w=k*L-G*x,I=k*x+G*L;g[m]=w,g[m+1]=I;var _=w-P,E=I-T;C+=_*_+E*E}if(C<d){d=C,c=b;for(var M=0;M<g.length;M++)h[M]=g[M]}}n.push({from:v,to:h,fromCp:l,toCp:f,rotation:-c})}return n}function Vt(r){return r.__isCombineMorphing}var va="__mOriginal_";function Ft(r,t,e){var a=va+t,n=r[a]||r[t];r[a]||(r[a]=r[t]);var i=e.replace,o=e.after,s=e.before;r[t]=function(){var u=arguments,l;return s&&s.apply(this,u),i?l=i.apply(this,u):l=n.apply(this,u),o&&o.apply(this,u),l}}function _t(r,t){var e=va+t;r[e]&&(r[t]=r[e],r[e]=null)}function xr(r,t){for(var e=0;e<r.length;e++)for(var a=r[e],n=0;n<a.length;){var i=a[n],o=a[n+1];a[n++]=t[0]*i+t[2]*o+t[4],a[n++]=t[1]*i+t[3]*o+t[5]}}function fa(r,t){var e=r.getUpdatedPathProxy(),a=t.getUpdatedPathProxy(),n=Xi(ce(e),ce(a)),i=n[0],o=n[1],s=r.getComputedTransform(),u=t.getComputedTransform();function l(){this.transform=null}s&&xr(i,s),u&&xr(o,u),Ft(t,"updateTransform",{replace:l}),t.transform=null;var f=Ji(i,o,10,Math.PI),v=[];Ft(t,"buildPath",{replace:function(h){for(var c=t.__morphT,d=1-c,g=[],p=0;p<f.length;p++){var y=f[p],S=y.from,m=y.to,D=y.rotation*c,A=y.fromCp,b=y.toCp,x=Math.sin(D),L=Math.cos(D);cn(g,A,b,c);for(var C=0;C<S.length;C+=2){var P=S[C],T=S[C+1],k=m[C],G=m[C+1],w=P*d+k*c,I=T*d+G*c;v[C]=w*L-I*x+g[0],v[C+1]=w*x+I*L+g[1]}var _=v[0],E=v[1];h.moveTo(_,E);for(var C=2;C<S.length;){var k=v[C++],G=v[C++],M=v[C++],O=v[C++],N=v[C++],R=v[C++];_===k&&E===G&&M===N&&O===R?h.lineTo(N,R):h.bezierCurveTo(k,G,M,O,N,R),_=N,E=R}}}})}function _e(r,t,e){if(!r||!t)return t;var a=e.done,n=e.during;fa(r,t),t.__morphT=0;function i(){_t(t,"buildPath"),_t(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},Z({during:function(o){t.dirtyShape(),n&&n(o)},done:function(){i(),a&&a()}},e)),t}function Qi(r,t,e,a,n,i){var o=16;r=n===e?0:Math.round(32767*(r-e)/(n-e)),t=i===a?0:Math.round(32767*(t-a)/(i-a));for(var s=0,u,l=(1<<o)/2;l>0;l/=2){var f=0,v=0;(r&l)>0&&(f=1),(t&l)>0&&(v=1),s+=l*l*(3*f^v),v===0&&(f===1&&(r=l-1-r,t=l-1-t),u=r,r=t,t=u)}return s}function zt(r){var t=1/0,e=1/0,a=-1/0,n=-1/0,i=Y(r,function(s){var u=s.getBoundingRect(),l=s.getComputedTransform(),f=u.x+u.width/2+(l?l[4]:0),v=u.y+u.height/2+(l?l[5]:0);return t=Math.min(f,t),e=Math.min(v,e),a=Math.max(f,a),n=Math.max(v,n),[f,v]}),o=Y(i,function(s,u){return{cp:s,z:Qi(s[0],s[1],t,e,a,n),path:r[u]}});return o.sort(function(s,u){return s.z-u.z}).map(function(s){return s.path})}function ca(r){return Ui(r.path,r.count)}function de(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Ki(r,t,e){var a=[];function n(A){for(var b=0;b<A.length;b++){var x=A[b];Vt(x)?n(x.childrenRef()):x instanceof rt&&a.push(x)}}n(r);var i=a.length;if(!i)return de();var o=e.dividePath||ca,s=o({path:t,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),de();a=zt(a),s=zt(s);for(var u=e.done,l=e.during,f=e.individualDelay,v=new hn,h=0;h<i;h++){var c=a[h],d=s[h];d.parent=t,d.copyTransform(v),f||fa(c,d)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function g(A){for(var b=0;b<s.length;b++)s[b].addSelfToZr(A)}Ft(t,"addSelfToZr",{after:function(A){g(A)}}),Ft(t,"removeSelfFromZr",{after:function(A){for(var b=0;b<s.length;b++)s[b].removeSelfFromZr(A)}});function p(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,_t(t,"addSelfToZr"),_t(t,"removeSelfFromZr")}var y=s.length;if(f)for(var S=y,m=function(){S--,S===0&&(p(),u&&u())},h=0;h<y;h++){var D=f?Z({delay:(e.delay||0)+f(h,y,a[h],s[h]),done:m},e):e;_e(a[h],s[h],D)}else t.__morphT=0,t.animateTo({__morphT:1},Z({during:function(A){for(var b=0;b<y;b++){var x=s[b];x.__morphT=t.__morphT,x.dirtyShape()}l&&l(A)},done:function(){p();for(var A=0;A<r.length;A++)_t(r[A],"updateTransform");u&&u()}},e));return t.__zr&&g(t.__zr),{fromIndividuals:a,toIndividuals:s,count:y}}function to(r,t,e){var a=t.length,n=[],i=e.dividePath||ca;function o(c){for(var d=0;d<c.length;d++){var g=c[d];Vt(g)?o(g.childrenRef()):g instanceof rt&&n.push(g)}}if(Vt(r)){o(r.childrenRef());var s=n.length;if(s<a)for(var u=0,l=s;l<a;l++)n.push(be(n[u++%s]));n.length=a}else{n=i({path:r,count:a});for(var f=r.getComputedTransform(),l=0;l<n.length;l++)n[l].setLocalTransform(f);if(n.length!==a)return console.error("Invalid morphing: unmatched splitted path"),de()}n=zt(n),t=zt(t);for(var v=e.individualDelay,l=0;l<a;l++){var h=v?Z({delay:(e.delay||0)+v(l,a,n[l],t[l])},e):e;_e(n[l],t[l],h)}return{fromIndividuals:n,toIndividuals:t,count:t.length}}function Dr(r){return Q(r[0])}function Mr(r,t){for(var e=[],a=r.length,n=0;n<a;n++)e.push({one:r[n],many:[]});for(var n=0;n<t.length;n++){var i=t[n].length,o=void 0;for(o=0;o<i;o++)e[o%a].many.push(t[n][o])}for(var s=0,n=a-1;n>=0;n--)if(!e[n].many.length){var u=e[s].many;if(u.length<=1)if(s)s=0;else return e;var i=u.length,l=Math.ceil(i/2);e[n].many=u.slice(l,i),e[s].many=u.slice(0,l),s++}return e}var eo={clone:function(r){for(var t=[],e=1-Math.pow(1-r.path.style.opacity,1/r.count),a=0;a<r.count;a++){var n=be(r.path);n.setStyle("opacity",e),t.push(n)}return t},split:null};function Kt(r,t,e,a,n,i){if(!r.length||!t.length)return;var o=Se("update",a,n);if(!(o&&o.duration>0))return;var s=a.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o),l,f;Dr(r)&&(l=r,f=t),Dr(t)&&(l=t,f=r);function v(y,S,m,D,A){var b=y.many,x=y.one;if(b.length===1&&!A){var L=S?b[0]:x,C=S?x:b[0];if(Vt(L))v({many:[L],one:C},!0,m,D,!0);else{var P=s?Z({delay:s(m,D)},u):u;_e(L,C,P),i(L,C,L,C,P)}}else for(var T=Z({dividePath:eo[e],individualDelay:s&&function(E,M,O,N){return s(E+m,D)}},u),k=S?Ki(b,x,T):to(x,b,T),G=k.fromIndividuals,w=k.toIndividuals,I=G.length,_=0;_<I;_++){var P=s?Z({delay:s(_,I)},u):u;i(G[_],w[_],S?b[_]:y.one,S?y.one:b[_],P)}}for(var h=l?l===r:r.length>t.length,c=l?Mr(f,l):Mr(h?t:r,[h?r:t]),d=0,g=0;g<c.length;g++)d+=c[g].many.length;for(var p=0,g=0;g<c.length;g++)v(c[g],h,p,d),p+=c[g].many.length}function vt(r){if(!r)return[];if(Q(r)){for(var t=[],e=0;e<r.length;e++)t.push(vt(r[e]));return t}var a=[];return r.traverse(function(n){n instanceof rt&&!n.disableMorphing&&!n.invisible&&!n.ignore&&a.push(n)}),a}var ha=1e4,ro=0,Ir=1,_r=2,ao=ge();function no(r,t){for(var e=r.dimensions,a=0;a<e.length;a++){var n=r.getDimensionInfo(e[a]);if(n&&n.otherDims[t]===0)return e[a]}}function io(r,t,e){var a=r.getDimensionInfo(e),n=a&&a.ordinalMeta;if(a){var i=r.get(a.name,t);return n&&n.categories[i]||i+""}}function Cr(r,t,e,a){var n=a?"itemChildGroupId":"itemGroupId",i=no(r,n);if(i){var o=io(r,t,i);return o}var s=r.getRawDataItem(t),u=a?"childGroupId":"groupId";if(s&&s[u])return s[u]+"";if(!a)return e||r.getId(t)}function Tr(r){var t=[];return $(r,function(e){var a=e.data,n=e.dataGroupId;if(!(a.count()>ha))for(var i=a.getIndices(),o=0;o<i.length;o++)t.push({data:a,groupId:Cr(a,o,n,!1),childGroupId:Cr(a,o,n,!0),divide:e.divide,dataIndex:o})}),t}function te(r,t,e){r.traverse(function(a){a instanceof rt&&et(a,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function ee(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function bt(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function oo(r,t,e){var a=Se("update",e,t);a&&r.traverse(function(n){if(n instanceof dn){var i=gn(n);i&&n.animateFrom({style:i},a)}})}function so(r,t){var e=r.length;if(e!==t.length)return!1;for(var a=0;a<e;a++){var n=r[a],i=t[a];if(n.data.getId(n.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function da(r,t,e){var a=Tr(r),n=Tr(t);function i(m,D,A,b,x){(A||m)&&D.animateFrom({style:A&&A!==m?pt(pt({},A.style),m.style):m.style},x)}var o=!1,s=ro,u=lt(),l=lt();a.forEach(function(m){m.groupId&&u.set(m.groupId,!0),m.childGroupId&&l.set(m.childGroupId,!0)});for(var f=0;f<n.length;f++){var v=n[f].groupId;if(l.get(v)){s=Ir;break}var h=n[f].childGroupId;if(h&&u.get(h)){s=_r;break}}function c(m,D){return function(A){var b=A.data,x=A.dataIndex;return D?b.getId(x):m?s===Ir?A.childGroupId:A.groupId:s===_r?A.childGroupId:A.groupId}}var d=so(a,n),g={};if(!d)for(var f=0;f<n.length;f++){var p=n[f],y=p.data.getItemGraphicEl(p.dataIndex);y&&(g[y.id]=!0)}function S(m,D){var A=a[D],b=n[m],x=b.data.hostModel,L=A.data.getItemGraphicEl(A.dataIndex),C=b.data.getItemGraphicEl(b.dataIndex);if(L===C){C&&oo(C,b.dataIndex,x);return}L&&g[L.id]||C&&(bt(C),L?(bt(L),ee(L),o=!0,Kt(vt(L),vt(C),b.divide,x,m,i)):te(C,x,m))}new Ye(a,n,c(!0,d),c(!1,d),null,"multiple").update(S).updateManyToOne(function(m,D){var A=n[m],b=A.data,x=b.hostModel,L=b.getItemGraphicEl(A.dataIndex),C=re(Y(D,function(P){return a[P].data.getItemGraphicEl(a[P].dataIndex)}),function(P){return P&&P!==L&&!g[P.id]});L&&(bt(L),C.length?($(C,function(P){bt(P),ee(P)}),o=!0,Kt(vt(C),vt(L),A.divide,x,m,i)):te(L,x,A.dataIndex))}).updateOneToMany(function(m,D){var A=a[D],b=A.data.getItemGraphicEl(A.dataIndex);if(!(b&&g[b.id])){var x=re(Y(m,function(C){return n[C].data.getItemGraphicEl(n[C].dataIndex)}),function(C){return C&&C!==b}),L=n[m[0]].data.hostModel;x.length&&($(x,function(C){return bt(C)}),b?(bt(b),ee(b),o=!0,Kt(vt(b),vt(x),A.divide,L,m[0],i)):$(x,function(C){return te(C,L,m[0])}))}}).updateManyToMany(function(m,D){new Ye(D,m,function(A){return a[A].data.getId(a[A].dataIndex)},function(A){return n[A].data.getId(n[A].dataIndex)}).update(function(A,b){S(m[A],D[b])}).execute()}).execute(),o&&$(t,function(m){var D=m.data,A=D.hostModel,b=A&&e.getViewOfSeriesModel(A),x=Se("update",A,0);b&&A.isAnimationEnabled()&&x&&x.duration>0&&b.group.traverse(function(L){L instanceof rt&&!L.animators.length&&L.animateFrom({style:{opacity:0}},x)})})}function Lr(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function wr(r){return Q(r)?r.sort().join(","):r}function st(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function lo(r,t){var e=lt(),a=lt(),n=lt();return $(r.oldSeries,function(i,o){var s=r.oldDataGroupIds[o],u=r.oldData[o],l=Lr(i),f=wr(l);a.set(f,{dataGroupId:s,data:u}),Q(l)&&$(l,function(v){n.set(v,{key:f,dataGroupId:s,data:u})})}),$(t.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),u=Lr(i),l=wr(u),f=a.get(l);if(f)e.set(l,{oldSeries:[{dataGroupId:f.dataGroupId,divide:st(f.data),data:f.data}],newSeries:[{dataGroupId:o,divide:st(s),data:s}]});else if(Q(u)){var v=[];$(u,function(d){var g=a.get(d);g.data&&v.push({dataGroupId:g.dataGroupId,divide:st(g.data),data:g.data})}),v.length&&e.set(l,{oldSeries:v,newSeries:[{dataGroupId:o,data:s,divide:st(s)}]})}else{var h=n.get(u);if(h){var c=e.get(h.key);c||(c={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:st(h.data)}],newSeries:[]},e.set(h.key,c)),c.newSeries.push({dataGroupId:o,data:s,divide:st(s)})}}}}),e}function Pr(r,t){for(var e=0;e<r.length;e++){var a=t.seriesIndex!=null&&t.seriesIndex===r[e].seriesIndex||t.seriesId!=null&&t.seriesId===r[e].id;if(a)return e}}function uo(r,t,e,a){var n=[],i=[];$(It(r.from),function(o){var s=Pr(t.oldSeries,o);s>=0&&n.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:st(t.oldData[s]),groupIdDim:o.dimension})}),$(It(r.to),function(o){var s=Pr(e.updatedSeries,o);if(s>=0){var u=e.updatedSeries[s].getData();i.push({dataGroupId:t.oldDataGroupIds[s],data:u,divide:st(u),groupIdDim:o.dimension})}}),n.length>0&&i.length>0&&da(n,i,a)}function So(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,a){$(It(a.seriesTransition),function(n){$(It(n.to),function(i){for(var o=a.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][Ut]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,e,a){var n=ao(e);if(n.oldSeries&&a.updatedSeries&&a.optionChanged){var i=a.seriesTransition;if(i)$(It(i),function(c){uo(c,n,a,e)});else{var o=lo(n,a);$(o.keys(),function(c){var d=o.get(c);da(d.oldSeries,d.newSeries,e)})}$(a.updatedSeries,function(c){c[Ut]&&(c[Ut]=!1)})}for(var s=t.getSeries(),u=n.oldSeries=[],l=n.oldDataGroupIds=[],f=n.oldData=[],v=0;v<s.length;v++){var h=s[v].getData();h.count()<ha&&(u.push(s[v]),l.push(s[v].get("dataGroupId")),f.push(h))}})}export{co as a,go as b,po as c,yo as d,So as e,bo as f,ho as g,mo as i};
