import{S as ot,e as O,c as rt,d as Lr,f as at,g as wr,m as fa,p as ca,h as ha,j as da,k as X,l as ga,C as pa,n as z,o as ma,q as le,r as It,s as Pr,t as ya,v as ba,w as Aa,x as De,y as q,_ as F,z as Er,A as Sa,B as st,D as Z,F as xa,G as Ia,H as Da,O as _a,I as Yt,J as Ma,K as jt,L as _e,M as Ca,N as Ta,P as Rt,Q as La,R as wa,T as kr,U as Vt,V as Pa,W as Me,X as Ce,Y as Ea,Z as ka,$ as Oa,a0 as Qt,a1 as Te,a2 as mt,a3 as yt,a4 as Ga,a5 as Na,a6 as ft,a7 as Ra,a8 as Va,a9 as Le,aa as we,ab as Fa,u as Pe,ac as za,ad as Ee,ae as Jt,af as Ba,ag as Wa,ah as $,ai as Or,aj as Y,ak as Gt,al as Ha,am as Za,an as ve,ao as Tt,ap as vt,aq as ke,ar as Ua,as as Gr,at as ue,au as Lt,av as fe,aw as gt,ax as Oe,ay as j,az as Nr,aA as Ge,aB as St,aC as Ne,aD as Kt,aE as Re,aF as Ct,aG as Ve,aH as Xa,aI as qa,aJ as Rr,aK as $a,aL as Fe,aM as Ya,aN as ja,aO as Qa,aP as Ja,aQ as ze,aR as Be,aS as Ka,aT as tn,aU as en,aV as rn,aW as an,aX as wt,aY as Vr,aZ as ce,a_ as nn,a$ as lt,b0 as on,b1 as sn,b2 as he,b3 as bt,b4 as Ft,b5 as We,b6 as ln,b7 as vn}from"./index-CSZTYXAi.js";var un=function(){function r(t){this.coordSysDims=[],this.axisMap=rt(),this.categoryAxisMap=rt(),this.coordSysName=t}return r}();function fn(r){var t=r.get("coordinateSystem"),e=new un(t),a=cn[t];if(a)return a(r,e,e.axisMap,e.categoryAxisMap),e}var cn={cartesian2d:function(r,t,e,a){var n=r.getReferringComponents("xAxis",ot).models[0],i=r.getReferringComponents("yAxis",ot).models[0];t.coordSysDims=["x","y"],e.set("x",n),e.set("y",i),ct(n)&&(a.set("x",n),t.firstCategoryDimIndex=0),ct(i)&&(a.set("y",i),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(r,t,e,a){var n=r.getReferringComponents("singleAxis",ot).models[0];t.coordSysDims=["single"],e.set("single",n),ct(n)&&(a.set("single",n),t.firstCategoryDimIndex=0)},polar:function(r,t,e,a){var n=r.getReferringComponents("polar",ot).models[0],i=n.findAxisModel("radiusAxis"),o=n.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",i),e.set("angle",o),ct(i)&&(a.set("radius",i),t.firstCategoryDimIndex=0),ct(o)&&(a.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(r,t,e,a){t.coordSysDims=["lng","lat"]},parallel:function(r,t,e,a){var n=r.ecModel,i=n.getComponent("parallel",r.get("parallelIndex")),o=t.coordSysDims=i.dimensions.slice();O(i.parallelAxisIndex,function(s,v){var l=n.getComponent("parallelAxis",s),f=o[v];e.set(f,l),ct(l)&&(a.set(f,l),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=v))})}};function ct(r){return r.get("type")==="category"}function hn(r,t){var e=r.get("coordinateSystem"),a=pa.get(e),n;return t&&t.coordSysDims&&(n=z(t.coordSysDims,function(i){var o={name:i},s=t.axisMap.get(i);if(s){var v=s.get("type");o.type=ma(v)}return o})),n||(n=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),n}function dn(r,t,e){var a,n;return e&&O(r,function(i,o){var s=i.coordDim,v=e.categoryAxisMap.get(s);v&&(a==null&&(a=o),i.ordinalMeta=v.getOrdinalMeta(),t&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(n=!0)}),!n&&a!=null&&(r[a].otherDims.itemName=0),a}function de(r,t,e){e=e||{};var a=t.getSourceManager(),n,i=!1;n=a.getSource(),i=n.sourceFormat===Lr;var o=fn(t),s=hn(t,o),v=e.useEncodeDefaulter,l=at(v)?v:v?wr(fa,s,t):null,f={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!i},u=ca(n,f),h=dn(u.dimensions,e.createInvertedIndices,o),c=i?null:a.getSharedDataStore(u),d=ha(t,{schema:u,store:c}),g=new da(u,t);g.setCalculationInfo(d);var p=h!=null&&gn(n)?function(y,b,m,I){return I===h?m:this.defaultDimValueGetter(y,b,m,I)}:null;return g.hasItemOption=!1,g.initData(i?n:c,null,p),g}function gn(r){if(r.sourceFormat===Lr){var t=pn(r.data||[]);return!X(ga(t))}}function pn(r){for(var t=0;t<r.length&&r[t]==null;)t++;return r[t]}var mn=function(){function r(){}return r.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},r.prototype.getCoordSysModel=function(){},r}(),xt=le();function Fr(r,t){var e=z(t,function(a){return r.scale.parse(a)});return r.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function yn(r){var t=r.getLabelModel().get("customValues");if(t){var e=It(r);return{labels:Fr(r,t).map(function(a){var n={value:a};return{formattedLabel:e(n),rawLabel:r.scale.getLabel(n),tickValue:a}})}}return r.type==="category"?An(r):xn(r)}function bn(r,t){var e=r.getTickModel().get("customValues");return e?{ticks:Fr(r,e)}:r.type==="category"?Sn(r,t):{ticks:z(r.scale.getTicks(),function(a){return a.value})}}function An(r){var t=r.getLabelModel(),e=zr(r,t);return!t.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function zr(r,t){var e=Br(r,"labels"),a=Pr(t),n=Wr(e,a);if(n)return n;var i,o;return at(a)?i=Ur(r,a):(o=a==="auto"?In(r):a,i=Zr(r,o)),Hr(e,a,{labels:i,labelCategoryInterval:o})}function Sn(r,t){var e=Br(r,"ticks"),a=Pr(t),n=Wr(e,a);if(n)return n;var i,o;if((!t.get("show")||r.scale.isBlank())&&(i=[]),at(a))i=Ur(r,a,!0);else if(a==="auto"){var s=zr(r,r.getLabelModel());o=s.labelCategoryInterval,i=z(s.labels,function(v){return v.tickValue})}else o=a,i=Zr(r,o,!0);return Hr(e,a,{ticks:i,tickCategoryInterval:o})}function xn(r){var t=r.scale.getTicks(),e=It(r);return{labels:z(t,function(a,n){return{level:a.level,formattedLabel:e(a,n),rawLabel:r.scale.getLabel(a),tickValue:a.value}})}}function Br(r,t){return xt(r)[t]||(xt(r)[t]=[])}function Wr(r,t){for(var e=0;e<r.length;e++)if(r[e].key===t)return r[e].value}function Hr(r,t,e){return r.push({key:t,value:e}),e}function In(r){var t=xt(r).autoInterval;return t??(xt(r).autoInterval=r.calculateCategoryInterval())}function Dn(r){var t=_n(r),e=It(r),a=(t.axisRotate-t.labelRotate)/180*Math.PI,n=r.scale,i=n.getExtent(),o=n.count();if(i[1]-i[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var v=i[0],l=r.dataToCoord(v+1)-r.dataToCoord(v),f=Math.abs(l*Math.cos(a)),u=Math.abs(l*Math.sin(a)),h=0,c=0;v<=i[1];v+=s){var d=0,g=0,p=ya(e({value:v}),t.font,"center","top");d=p.width*1.3,g=p.height*1.3,h=Math.max(h,d,7),c=Math.max(c,g,7)}var y=h/f,b=c/u;isNaN(y)&&(y=1/0),isNaN(b)&&(b=1/0);var m=Math.max(0,Math.floor(Math.min(y,b))),I=xt(r.model),S=r.getExtent(),A=I.lastAutoInterval,x=I.lastTickCount;return A!=null&&x!=null&&Math.abs(A-m)<=1&&Math.abs(x-o)<=1&&A>m&&I.axisExtent0===S[0]&&I.axisExtent1===S[1]?m=A:(I.lastTickCount=o,I.lastAutoInterval=m,I.axisExtent0=S[0],I.axisExtent1=S[1]),m}function _n(r){var t=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Zr(r,t,e){var a=It(r),n=r.scale,i=n.getExtent(),o=r.getLabelModel(),s=[],v=Math.max((t||0)+1,1),l=i[0],f=n.count();l!==0&&v>1&&f/v>2&&(l=Math.round(Math.ceil(l/v)*v));var u=ba(r),h=o.get("showMinLabel")||u,c=o.get("showMaxLabel")||u;h&&l!==i[0]&&g(i[0]);for(var d=l;d<=i[1];d+=v)g(d);c&&d-v!==i[1]&&g(i[1]);function g(p){var y={value:p};s.push(e?p:{formattedLabel:a(y),rawLabel:n.getLabel(y),tickValue:p})}return s}function Ur(r,t,e){var a=r.scale,n=It(r),i=[];return O(a.getTicks(),function(o){var s=a.getLabel(o),v=o.value;t(o.value,s)&&i.push(e?v:{formattedLabel:n(o),rawLabel:s,tickValue:v})}),i}var He=[0,1],Mn=function(){function r(t,e,a){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=a||[0,0]}return r.prototype.contain=function(t){var e=this._extent,a=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=a&&t<=n},r.prototype.containData=function(t){return this.scale.contain(t)},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(t){return Aa(t||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(t,e){var a=this._extent;a[0]=t,a[1]=e},r.prototype.dataToCoord=function(t,e){var a=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&n.type==="ordinal"&&(a=a.slice(),Ze(a,n.count())),De(t,He,a,e)},r.prototype.coordToData=function(t,e){var a=this._extent,n=this.scale;this.onBand&&n.type==="ordinal"&&(a=a.slice(),Ze(a,n.count()));var i=De(t,a,He,e);return this.scale.scale(i)},r.prototype.pointToData=function(t,e){},r.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),a=bn(this,e),n=a.ticks,i=z(n,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=e.get("alignWithLabel");return Cn(this,i,o,t.clamp),i},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var a=this.scale.getMinorTicks(e),n=z(a,function(i){return z(i,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return n},r.prototype.getViewLabels=function(){return yn(this).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),a=e[1]-e[0]+(this.onBand?1:0);a===0&&(a=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/a},r.prototype.calculateCategoryInterval=function(){return Dn(this)},r}();function Ze(r,t){var e=r[1]-r[0],a=t,n=e/a/2;r[0]+=n,r[1]-=n}function Cn(r,t,e,a){var n=t.length;if(!r.onBand||e||!n)return;var i=r.getExtent(),o,s;if(n===1)t[0].coord=i[0],o=t[1]={coord:i[1]};else{var v=t[n-1].tickValue-t[0].tickValue,l=(t[n-1].coord-t[0].coord)/v;O(t,function(c){c.coord-=l/2});var f=r.scale.getExtent();s=1+f[1]-t[n-1].tickValue,o={coord:t[n-1].coord+l*s},t.push(o)}var u=i[0]>i[1];h(t[0].coord,i[0])&&(a?t[0].coord=i[0]:t.shift()),a&&h(i[0],t[0].coord)&&t.unshift({coord:i[0]}),h(i[1],o.coord)&&(a?o.coord=i[1]:t.pop()),a&&h(o.coord,i[1])&&t.push({coord:i[1]});function h(c,d){return c=q(c),d=q(d),u?c>d:c<d}}var Tn=function(r){F(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Er),te=function(r){F(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ot).models[0]},t.type="cartesian2dAxis",t}(Er);Sa(te,mn);var Xr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Ln=st({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Xr),ge=st({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Xr),wn=st({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ge),Pn=Z({logBase:10},ge);const En={category:Ln,value:ge,time:wn,log:Pn};var kn={value:1,category:1,time:1,log:1};function Ue(r,t,e,a){O(kn,function(n,i){var o=st(st({},En[i],!0),a,!0),s=function(v){F(l,v);function l(){var f=v!==null&&v.apply(this,arguments)||this;return f.type=t+"Axis."+i,f}return l.prototype.mergeDefaultAndTheme=function(f,u){var h=xa(this),c=h?Ia(f):{},d=u.getTheme();st(f,d.get(i+"Axis")),st(f,this.getDefaultOption()),f.type=Xe(f),h&&Da(f,c,h)},l.prototype.optionUpdated=function(){var f=this.option;f.type==="category"&&(this.__ordinalMeta=_a.createByAxisModel(this))},l.prototype.getCategories=function(f){var u=this.option;if(u.type==="category")return f?u.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=t+"Axis."+i,l.defaultOption=o,l}(e);r.registerComponentModel(s)}),r.registerSubTypeDefaulter(t+"Axis",Xe)}function Xe(r){return r.type||(r.data?"category":"value")}var On=function(){function r(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return r.prototype.getAxis=function(t){return this._axes[t]},r.prototype.getAxes=function(){return z(this._dimList,function(t){return this._axes[t]},this)},r.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Yt(this.getAxes(),function(e){return e.scale.type===t})},r.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},r}(),ee=["x","y"];function qe(r){return r.type==="interval"||r.type==="time"}var Gn=function(r){F(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=ee,e}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,a=this.getAxis("y").scale;if(!(!qe(e)||!qe(a))){var n=e.getExtent(),i=a.getExtent(),o=this.dataToPoint([n[0],i[0]]),s=this.dataToPoint([n[1],i[1]]),v=n[1]-n[0],l=i[1]-i[0];if(!(!v||!l)){var f=(s[0]-o[0])/v,u=(s[1]-o[1])/l,h=o[0]-n[0]*f,c=o[1]-i[0]*u,d=this._transform=[f,0,0,u,h,c];this._invTransform=Ma([],d)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var a=this.getAxis("x"),n=this.getAxis("y");return a.contain(a.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,a){var n=this.dataToPoint(e),i=this.dataToPoint(a),o=this.getArea(),s=new jt(n[0],n[1],i[0]-n[0],i[1]-n[1]);return o.intersect(s)},t.prototype.dataToPoint=function(e,a,n){n=n||[];var i=e[0],o=e[1];if(this._transform&&i!=null&&isFinite(i)&&o!=null&&isFinite(o))return _e(n,e,this._transform);var s=this.getAxis("x"),v=this.getAxis("y");return n[0]=s.toGlobalCoord(s.dataToCoord(i,a)),n[1]=v.toGlobalCoord(v.dataToCoord(o,a)),n},t.prototype.clampData=function(e,a){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),s=i.getExtent(),v=n.parse(e[0]),l=i.parse(e[1]);return a=a||[],a[0]=Math.min(Math.max(Math.min(o[0],o[1]),v),Math.max(o[0],o[1])),a[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),a},t.prototype.pointToData=function(e,a){var n=[];if(this._invTransform)return _e(n,e,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(e[0]),a),n[1]=o.coordToData(o.toLocalCoord(e[1]),a),n},t.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},t.prototype.getArea=function(e){e=e||0;var a=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),i=Math.min(a[0],a[1])-e,o=Math.min(n[0],n[1])-e,s=Math.max(a[0],a[1])-i+e,v=Math.max(n[0],n[1])-o+e;return new jt(i,o,s,v)},t}(On),Nn=function(r){F(t,r);function t(e,a,n,i,o){var s=r.call(this,e,a,n)||this;return s.index=0,s.type=i||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},t.prototype.getGlobalExtent=function(e){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),e&&a[0]>a[1]&&a.reverse(),a},t.prototype.pointToData=function(e,a){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),a)},t.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Mn),zt=Math.log;function Rn(r,t,e){var a=Ca.prototype,n=a.getTicks.call(e),i=a.getTicks.call(e,!0),o=n.length-1,s=a.getInterval.call(e),v=Ta(r,t),l=v.extent,f=v.fixMin,u=v.fixMax;if(r.type==="log"){var h=zt(r.base);l=[zt(l[0])/h,zt(l[1])/h]}r.setExtent(l[0],l[1]),r.calcNiceExtent({splitNumber:o,fixMin:f,fixMax:u});var c=a.getExtent.call(r);f&&(l[0]=c[0]),u&&(l[1]=c[1]);var d=a.getInterval.call(r),g=l[0],p=l[1];if(f&&u)d=(p-g)/o;else if(f)for(p=l[0]+d*o;p<l[1]&&isFinite(p)&&isFinite(l[1]);)d=Rt(d),p=l[0]+d*o;else if(u)for(g=l[1]-d*o;g>l[0]&&isFinite(g)&&isFinite(l[0]);)d=Rt(d),g=l[1]-d*o;else{var y=r.getTicks().length-1;y>o&&(d=Rt(d));var b=d*o;p=Math.ceil(l[1]/d)*d,g=q(p-b),g<0&&l[0]>=0?(g=0,p=q(b)):p>0&&l[1]<=0&&(p=0,g=-q(b))}var m=(n[0].value-i[0].value)/s,I=(n[o].value-i[o].value)/s;a.setExtent.call(r,g+d*m,p+d*I),a.setInterval.call(r,d),(m||I)&&a.setNiceExtent.call(r,g+d,p-d)}var Vn=function(){function r(t,e,a){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=ee,this._initCartesian(t,e,a),this.model=t}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(t,e){var a=this._axesMap;this._updateScale(t,this.model);function n(o){var s,v=Oa(o),l=v.length;if(l){for(var f=[],u=l-1;u>=0;u--){var h=+v[u],c=o[h],d=c.model,g=c.scale;Qt(g)&&d.get("alignTicks")&&d.get("interval")==null?f.push(c):(Te(g,d),Qt(g)&&(s=c))}f.length&&(s||(s=f.pop(),Te(s.scale,s.model)),O(f,function(p){Rn(p.scale,p.model,s.scale)}))}}n(a.x),n(a.y);var i={};O(a.x,function(o){$e(a,"y",o,i)}),O(a.y,function(o){$e(a,"x",o,i)}),this.resize(this.model,e)},r.prototype.resize=function(t,e,a){var n=t.getBoxLayoutParams(),i=!a&&t.get("containLabel"),o=La(n,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;v(),i&&(O(s,function(l){if(!l.model.get(["axisLabel","inside"])){var f=wa(l);if(f){var u=l.isHorizontal()?"height":"width",h=l.model.get(["axisLabel","margin"]);o[u]-=f[u]+h,l.position==="top"?o.y+=f.height+h:l.position==="left"&&(o.x+=f.width+h)}}}),v()),O(this._coordsList,function(l){l.calcAffineTransform()});function v(){O(s,function(l){var f=l.isHorizontal(),u=f?[0,o.width]:[0,o.height],h=l.inverse?1:0;l.setExtent(u[h],u[1-h]),Fn(l,f?o.x:o.y)})}},r.prototype.getAxis=function(t,e){var a=this._axesMap[t];if(a!=null)return a[e||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(t,e){if(t!=null&&e!=null){var a="x"+t+"y"+e;return this._coordsMap[a]}kr(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===t||i[n].getAxis("y").index===e)return i[n]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(t,e,a){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.dataToPoint(a):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(a)):null},r.prototype.convertFromPixel=function(t,e,a){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.pointToData(a):n.axis?n.axis.coordToData(n.axis.toLocalCoord(a)):null},r.prototype._findConvertTarget=function(t){var e=t.seriesModel,a=t.xAxisModel||e&&e.getReferringComponents("xAxis",ot).models[0],n=t.yAxisModel||e&&e.getReferringComponents("yAxis",ot).models[0],i=t.gridModel,o=this._coordsList,s,v;if(e)s=e.coordinateSystem,Vt(o,s)<0&&(s=null);else if(a&&n)s=this.getCartesian(a.componentIndex,n.componentIndex);else if(a)v=this.getAxis("x",a.componentIndex);else if(n)v=this.getAxis("y",n.componentIndex);else if(i){var l=i.coordinateSystem;l===this&&(s=this._coordsList[0])}return{cartesian:s,axis:v}},r.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},r.prototype._initCartesian=function(t,e,a){var n=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},v={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!v.x||!v.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,O(s.x,function(f,u){O(s.y,function(h,c){var d="x"+u+"y"+c,g=new Gn(d);g.master=n,g.model=t,n._coordsMap[d]=g,n._coordsList.push(g),g.addAxis(f),g.addAxis(h)})});function l(f){return function(u,h){if(Bt(u,t)){var c=u.get("position");f==="x"?c!=="top"&&c!=="bottom"&&(c=o.bottom?"top":"bottom"):c!=="left"&&c!=="right"&&(c=o.left?"right":"left"),o[c]=!0;var d=new Nn(f,Pa(u),[0,0],u.get("type"),c),g=d.type==="category";d.onBand=g&&u.get("boundaryGap"),d.inverse=u.get("inverse"),u.axis=d,d.model=u,d.grid=i,d.index=h,i._axesList.push(d),s[f][h]=d,v[f]++}}}},r.prototype._updateScale=function(t,e){O(this._axesList,function(n){if(n.scale.setExtent(1/0,-1/0),n.type==="category"){var i=n.model.get("categorySortInfo");n.scale.setSortInfo(i)}}),t.eachSeries(function(n){if(Me(n)){var i=Ce(n),o=i.xAxisModel,s=i.yAxisModel;if(!Bt(o,e)||!Bt(s,e))return;var v=this.getCartesian(o.componentIndex,s.componentIndex),l=n.getData(),f=v.getAxis("x"),u=v.getAxis("y");a(l,f),a(l,u)}},this);function a(n,i){O(Ea(n,i.dim),function(o){i.scale.unionExtentFromData(n,o)})}},r.prototype.getTooltipAxes=function(t){var e=[],a=[];return O(this.getCartesians(),function(n){var i=t!=null&&t!=="auto"?n.getAxis(t):n.getBaseAxis(),o=n.getOtherAxis(i);Vt(e,i)<0&&e.push(i),Vt(a,o)<0&&a.push(o)}),{baseAxes:e,otherAxes:a}},r.create=function(t,e){var a=[];return t.eachComponent("grid",function(n,i){var o=new r(n,t,e);o.name="grid_"+i,o.resize(n,e,!0),n.coordinateSystem=o,a.push(o)}),t.eachSeries(function(n){if(Me(n)){var i=Ce(n),o=i.xAxisModel,s=i.yAxisModel,v=o.getCoordSysModel(),l=v.coordinateSystem;n.coordinateSystem=l.getCartesian(o.componentIndex,s.componentIndex)}}),a},r.dimensions=ee,r}();function Bt(r,t){return r.getCoordSysModel()===t}function $e(r,t,e,a){e.getAxesOnZeroOf=function(){return i?[i]:[]};var n=r[t],i,o=e.model,s=o.get(["axisLine","onZero"]),v=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(v!=null)Ye(n[v])&&(i=n[v]);else for(var l in n)if(n.hasOwnProperty(l)&&Ye(n[l])&&!a[f(n[l])]){i=n[l];break}i&&(a[f(i)]=!0);function f(u){return u.dim+"_"+u.index}}function Ye(r){return r&&r.type!=="category"&&r.type!=="time"&&ka(r)}function Fn(r,t){var e=r.getExtent(),a=e[0]+e[1];r.toGlobalCoord=r.dim==="x"?function(n){return n+t}:function(n){return a-n+t},r.toLocalCoord=r.dim==="x"?function(n){return n-t}:function(n){return a-n+t}}var re=le();function zn(r,t,e,a){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitArea"),o=i.getModel("areaStyle"),s=o.get("color"),v=a.coordinateSystem.getRect(),l=n.getTicksCoords({tickModel:i,clamp:!0});if(l.length){var f=s.length,u=re(r).splitAreaColors,h=rt(),c=0;if(u)for(var d=0;d<l.length;d++){var g=u.get(l[d].tickValue);if(g!=null){c=(g+(f-1)*d)%f;break}}var p=n.toGlobalCoord(l[0].coord),y=o.getAreaStyle();s=X(s)?s:[s];for(var d=1;d<l.length;d++){var b=n.toGlobalCoord(l[d].coord),m=void 0,I=void 0,S=void 0,A=void 0;n.isHorizontal()?(m=p,I=v.y,S=b-m,A=v.height,p=m+S):(m=v.x,I=p,S=v.width,A=b-I,p=I+A);var x=l[d-1].tickValue;x!=null&&h.set(x,c),t.add(new mt({anid:x!=null?"area_"+x:null,shape:{x:m,y:I,width:S,height:A},style:Z({fill:s[c]},y),autoBatch:!0,silent:!0})),c=(c+1)%f}re(r).splitAreaColors=h}}}function Bn(r){re(r).splitAreaColors=null}var Wn=["axisLine","axisTickLabel","axisName"],Hn=["splitArea","splitLine","minorSplitLine"],qr=function(r){F(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return t.prototype.render=function(e,a,n,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new yt,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),v=Ga(s,e),l=new Na(e,ft({handleAutoShown:function(u){for(var h=s.coordinateSystem.getCartesians(),c=0;c<h.length;c++)if(Qt(h[c].getOtherAxis(e.axis).scale))return!0;return!1}},v));O(Wn,l.add,l),this._axisGroup.add(l.getGroup()),O(Hn,function(u){e.get([u,"show"])&&Zn[u](this,this._axisGroup,e,s)},this);var f=i&&i.type==="changeAxisOrder"&&i.isInitSort;f||Ra(o,this._axisGroup,e),r.prototype.render.call(this,e,a,n,i)}},t.prototype.remove=function(){Bn(this)},t.type="cartesianAxis",t}(Va),Zn={splitLine:function(r,t,e,a){var n=e.axis;if(!n.scale.isBlank()){var i=e.getModel("splitLine"),o=i.getModel("lineStyle"),s=o.get("color");s=X(s)?s:[s];for(var v=a.coordinateSystem.getRect(),l=n.isHorizontal(),f=0,u=n.getTicksCoords({tickModel:i}),h=[],c=[],d=o.getLineStyle(),g=0;g<u.length;g++){var p=n.toGlobalCoord(u[g].coord);l?(h[0]=p,h[1]=v.y,c[0]=p,c[1]=v.y+v.height):(h[0]=v.x,h[1]=p,c[0]=v.x+v.width,c[1]=p);var y=f++%s.length,b=u[g].tickValue,m=new Le({anid:b!=null?"line_"+u[g].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:Z({stroke:s[y]},d),silent:!0});we(m.shape,d.lineWidth),t.add(m)}}},minorSplitLine:function(r,t,e,a){var n=e.axis,i=e.getModel("minorSplitLine"),o=i.getModel("lineStyle"),s=a.coordinateSystem.getRect(),v=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var f=[],u=[],h=o.getLineStyle(),c=0;c<l.length;c++)for(var d=0;d<l[c].length;d++){var g=n.toGlobalCoord(l[c][d].coord);v?(f[0]=g,f[1]=s.y,u[0]=g,u[1]=s.y+s.height):(f[0]=s.x,f[1]=g,u[0]=s.x+s.width,u[1]=g);var p=new Le({anid:"minor_line_"+l[c][d].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:u[0],y2:u[1]},style:h,silent:!0});we(p.shape,h.lineWidth),t.add(p)}},splitArea:function(r,t,e,a){zn(r,t,e,a)}},$r=function(r){F(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="xAxis",t}(qr),Un=function(r){F(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=$r.type,e}return t.type="yAxis",t}(qr),Xn=function(r){F(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="grid",e}return t.prototype.render=function(e,a){this.group.removeAll(),e.get("show")&&this.group.add(new mt({shape:e.coordinateSystem.getRect(),style:Z({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Fa),je={offset:0};function qn(r){r.registerComponentView(Xn),r.registerComponentModel(Tn),r.registerCoordinateSystem("cartesian2d",Vn),Ue(r,"x",te,je),Ue(r,"y",te,je),r.registerComponentView($r),r.registerComponentView(Un),r.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function no(r){Pe(qn),Pe(za)}function pe(r,t){var e=r.mapDimensionsAll("defaultedLabel"),a=e.length;if(a===1){var n=Ee(r,t,e[0]);return n!=null?n+"":null}else if(a){for(var i=[],o=0;o<e.length;o++)i.push(Ee(r,t,e[o]));return i.join(" ")}}function Yr(r,t){var e=r.mapDimensionsAll("defaultedLabel");if(!X(t))return t+"";for(var a=[],n=0;n<e.length;n++){var i=r.getDimensionIndex(e[n]);i>=0&&a.push(t[i])}return a.join(" ")}var me=function(r){F(t,r);function t(e,a,n,i){var o=r.call(this)||this;return o.updateData(e,a,n,i),o}return t.prototype._createSymbol=function(e,a,n,i,o){this.removeAll();var s=Jt(e,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=$n,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Ba(this.childAt(0))},t.prototype.downplay=function(){Wa(this.childAt(0))},t.prototype.setZ=function(e,a){var n=this.childAt(0);n.zlevel=e,n.z=a},t.prototype.setDraggable=function(e,a){var n=this.childAt(0);n.draggable=e,n.cursor=!a&&e?"move":n.cursor},t.prototype.updateData=function(e,a,n,i){this.silent=!1;var o=e.getItemVisual(a,"symbol")||"circle",s=e.hostModel,v=t.getSymbolSize(e,a),l=o!==this._symbolType,f=i&&i.disableAnimation;if(l){var u=e.getItemVisual(a,"symbolKeepAspect");this._createSymbol(o,e,a,v,u)}else{var h=this.childAt(0);h.silent=!1;var c={scaleX:v[0]/2,scaleY:v[1]/2};f?h.attr(c):$(h,c,s,a),Or(h)}if(this._updateCommon(e,a,v,n,i),l){var h=this.childAt(0);if(!f){var c={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Y(h,c,s,a)}}f&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,a,n,i,o){var s=this.childAt(0),v=e.hostModel,l,f,u,h,c,d,g,p,y;if(i&&(l=i.emphasisItemStyle,f=i.blurItemStyle,u=i.selectItemStyle,h=i.focus,c=i.blurScope,g=i.labelStatesModels,p=i.hoverScale,y=i.cursorStyle,d=i.emphasisDisabled),!i||e.hasItemOption){var b=i&&i.itemModel?i.itemModel:e.getItemModel(a),m=b.getModel("emphasis");l=m.getModel("itemStyle").getItemStyle(),u=b.getModel(["select","itemStyle"]).getItemStyle(),f=b.getModel(["blur","itemStyle"]).getItemStyle(),h=m.get("focus"),c=m.get("blurScope"),d=m.get("disabled"),g=Gt(b),p=m.getShallow("scale"),y=b.getShallow("cursor")}var I=e.getItemVisual(a,"symbolRotate");s.attr("rotation",(I||0)*Math.PI/180||0);var S=Ha(e.getItemVisual(a,"symbolOffset"),n);S&&(s.x=S[0],s.y=S[1]),y&&s.attr("cursor",y);var A=e.getItemVisual(a,"style"),x=A.fill;if(s instanceof Za){var _=s.style;s.useStyle(ft({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},A))}else s.__isEmptyBrush?s.useStyle(ft({},A)):s.useStyle(A),s.style.decal=null,s.setColor(x,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var D=e.getItemVisual(a,"liftZ"),T=this._z2;D!=null?T==null&&(this._z2=s.z2,s.z2+=D):T!=null&&(s.z2=T,this._z2=null);var M=o&&o.useNameLabel;ve(s,g,{labelFetcher:v,labelDataIndex:a,defaultText:C,inheritColor:x,defaultOpacity:A.opacity});function C(w){return M?e.getName(w):pe(e,w)}this._sizeX=n[0]/2,this._sizeY=n[1]/2;var L=s.ensureState("emphasis");L.style=l,s.ensureState("select").style=u,s.ensureState("blur").style=f;var E=p==null||p===!0?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;L.scaleX=this._sizeX*E,L.scaleY=this._sizeY*E,this.setSymbolScale(1),Tt(this,h,c,d)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,a,n){var i=this.childAt(0),o=vt(this).dataIndex,s=n&&n.animation;if(this.silent=i.silent=!0,n&&n.fadeLabel){var v=i.getTextContent();v&&ke(v,{style:{opacity:0}},a,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();ke(i,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:o,cb:e,removeOpt:s})},t.getSymbolSize=function(e,a){return Ua(e.getItemVisual(a,"symbolSize"))},t}(yt);function $n(r,t){this.parent.drift(r,t)}function Wt(r,t,e,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(e))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function Qe(r){return r!=null&&!kr(r)&&(r={isIgnore:r}),r||{}}function Je(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Gt(t),cursorStyle:t.get("cursor")}}var Yn=function(){function r(t){this.group=new yt,this._SymbolCtor=t||me}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=Qe(e);var a=this.group,n=t.hostModel,i=this._data,o=this._SymbolCtor,s=e.disableAnimation,v=Je(t),l={disableAnimation:s},f=e.getSymbolPoint||function(u){return t.getItemLayout(u)};i||a.removeAll(),t.diff(i).add(function(u){var h=f(u);if(Wt(t,h,u,e)){var c=new o(t,u,v,l);c.setPosition(h),t.setItemGraphicEl(u,c),a.add(c)}}).update(function(u,h){var c=i.getItemGraphicEl(h),d=f(u);if(!Wt(t,d,u,e)){a.remove(c);return}var g=t.getItemVisual(u,"symbol")||"circle",p=c&&c.getSymbolType&&c.getSymbolType();if(!c||p&&p!==g)a.remove(c),c=new o(t,u,v,l),c.setPosition(d);else{c.updateData(t,u,v,l);var y={x:d[0],y:d[1]};s?c.attr(y):$(c,y,n)}a.add(c),t.setItemGraphicEl(u,c)}).remove(function(u){var h=i.getItemGraphicEl(u);h&&h.fadeOut(function(){a.remove(h)},n)}).execute(),this._getSymbolPoint=f,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(a,n){var i=t._getSymbolPoint(n);a.setPosition(i),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Je(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,a){this._progressiveEls=[],a=Qe(a);function n(v){v.isGroup||(v.incremental=!0,v.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=e.getItemLayout(i);if(Wt(e,o,i,a)){var s=new this._SymbolCtor(e,i,this._seriesScope);s.traverse(n),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(t){Gr(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl(function(n){n.fadeOut(function(){e.remove(n)},a.hostModel)}):e.removeAll()},r}();function ye(r,t){return r.type===t}var jn=function(r){F(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return de(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var a=new yt,n=Jt("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);a.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,v=e.itemHeight*.8,l=Jt(s,(e.itemWidth-v)/2,(e.itemHeight-v)/2,v,v,e.itemStyle.fill);a.add(l),l.setStyle(e.itemStyle);var f=e.iconRotate==="inherit"?o:e.iconRotate||0;return l.rotation=f*Math.PI/180,l.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(ue);function jr(r,t,e){var a=r.getBaseAxis(),n=r.getOtherAxis(a),i=Qn(n,e),o=a.dim,s=n.dim,v=t.mapDimension(s),l=t.mapDimension(o),f=s==="x"||s==="radius"?1:0,u=z(r.dimensions,function(d){return t.mapDimension(d)}),h=!1,c=t.getCalculationInfo("stackResultDimension");return Lt(t,u[0])&&(h=!0,u[0]=c),Lt(t,u[1])&&(h=!0,u[1]=c),{dataDimsForPoint:u,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:v,baseDim:l,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Qn(r,t){var e=0,a=r.scale.getExtent();return t==="start"?e=a[0]:t==="end"?e=a[1]:fe(t)&&!isNaN(t)?e=t:a[0]>0?e=a[0]:a[1]<0&&(e=a[1]),e}function Qr(r,t,e,a){var n=NaN;r.stacked&&(n=e.get(e.getCalculationInfo("stackedOverDimension"),a)),isNaN(n)&&(n=r.valueStart);var i=r.baseDataOffset,o=[];return o[i]=e.get(r.baseDim,a),o[1-i]=n,t.dataToPoint(o)}function Jn(r,t){var e=[];return t.diff(r).add(function(a){e.push({cmd:"+",idx:a})}).update(function(a,n){e.push({cmd:"=",idx:n,idx1:a})}).remove(function(a){e.push({cmd:"-",idx:a})}).execute(),e}function Kn(r,t,e,a,n,i,o,s){for(var v=Jn(r,t),l=[],f=[],u=[],h=[],c=[],d=[],g=[],p=jr(n,t,o),y=r.getLayout("points")||[],b=t.getLayout("points")||[],m=0;m<v.length;m++){var I=v[m],S=!0,A=void 0,x=void 0;switch(I.cmd){case"=":A=I.idx*2,x=I.idx1*2;var _=y[A],D=y[A+1],T=b[x],M=b[x+1];(isNaN(_)||isNaN(D))&&(_=T,D=M),l.push(_,D),f.push(T,M),u.push(e[A],e[A+1]),h.push(a[x],a[x+1]),g.push(t.getRawIndex(I.idx1));break;case"+":var C=I.idx,L=p.dataDimsForPoint,E=n.dataToPoint([t.get(L[0],C),t.get(L[1],C)]);x=C*2,l.push(E[0],E[1]),f.push(b[x],b[x+1]);var w=Qr(p,n,t,C);u.push(w[0],w[1]),h.push(a[x],a[x+1]),g.push(t.getRawIndex(C));break;case"-":S=!1}S&&(c.push(I),d.push(d.length))}d.sort(function(nt,B){return g[nt]-g[B]});for(var k=l.length,N=gt(k),P=gt(k),G=gt(k),R=gt(k),V=[],m=0;m<d.length;m++){var Q=d[m],W=m*2,H=Q*2;N[W]=l[H],N[W+1]=l[H+1],P[W]=f[H],P[W+1]=f[H+1],G[W]=u[H],G[W+1]=u[H+1],R[W]=h[H],R[W+1]=h[H+1],V[m]=c[Q]}return{current:N,next:P,stackedOnCurrent:G,stackedOnNext:R,status:V}}var J=Math.min,K=Math.max;function ut(r,t){return isNaN(r)||isNaN(t)}function ae(r,t,e,a,n,i,o,s,v){for(var l,f,u,h,c,d,g=e,p=0;p<a;p++){var y=t[g*2],b=t[g*2+1];if(g>=n||g<0)break;if(ut(y,b)){if(v){g+=i;continue}break}if(g===e)r[i>0?"moveTo":"lineTo"](y,b),u=y,h=b;else{var m=y-l,I=b-f;if(m*m+I*I<.5){g+=i;continue}if(o>0){for(var S=g+i,A=t[S*2],x=t[S*2+1];A===y&&x===b&&p<a;)p++,S+=i,g+=i,A=t[S*2],x=t[S*2+1],y=t[g*2],b=t[g*2+1],m=y-l,I=b-f;var _=p+1;if(v)for(;ut(A,x)&&_<a;)_++,S+=i,A=t[S*2],x=t[S*2+1];var D=.5,T=0,M=0,C=void 0,L=void 0;if(_>=a||ut(A,x))c=y,d=b;else{T=A-l,M=x-f;var E=y-l,w=A-y,k=b-f,N=x-b,P=void 0,G=void 0;if(s==="x"){P=Math.abs(E),G=Math.abs(w);var R=T>0?1:-1;c=y-R*P*o,d=b,C=y+R*G*o,L=b}else if(s==="y"){P=Math.abs(k),G=Math.abs(N);var V=M>0?1:-1;c=y,d=b-V*P*o,C=y,L=b+V*G*o}else P=Math.sqrt(E*E+k*k),G=Math.sqrt(w*w+N*N),D=G/(G+P),c=y-T*o*(1-D),d=b-M*o*(1-D),C=y+T*o*D,L=b+M*o*D,C=J(C,K(A,y)),L=J(L,K(x,b)),C=K(C,J(A,y)),L=K(L,J(x,b)),T=C-y,M=L-b,c=y-T*P/G,d=b-M*P/G,c=J(c,K(l,y)),d=J(d,K(f,b)),c=K(c,J(l,y)),d=K(d,J(f,b)),T=y-c,M=b-d,C=y+T*G/P,L=b+M*G/P}r.bezierCurveTo(u,h,c,d,y,b),u=C,h=L}else r.lineTo(y,b)}l=y,f=b,g+=i}return p}var Jr=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),ti=function(r){F(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Jr},t.prototype.buildPath=function(e,a){var n=a.points,i=0,o=n.length/2;if(a.connectNulls){for(;o>0&&ut(n[o*2-2],n[o*2-1]);o--);for(;i<o&&ut(n[i*2],n[i*2+1]);i++);}for(;i<o;)i+=ae(e,n,i,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(e,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,i=n.data,o=Nr.CMD,s,v,l=a==="x",f=[],u=0;u<i.length;){var h=i[u++],c=void 0,d=void 0,g=void 0,p=void 0,y=void 0,b=void 0,m=void 0;switch(h){case o.M:s=i[u++],v=i[u++];break;case o.L:if(c=i[u++],d=i[u++],m=l?(e-s)/(c-s):(e-v)/(d-v),m<=1&&m>=0){var I=l?(d-v)*m+v:(c-s)*m+s;return l?[e,I]:[I,e]}s=c,v=d;break;case o.C:c=i[u++],d=i[u++],g=i[u++],p=i[u++],y=i[u++],b=i[u++];var S=l?Oe(s,c,g,y,e,f):Oe(v,d,p,b,e,f);if(S>0)for(var A=0;A<S;A++){var x=f[A];if(x<=1&&x>=0){var I=l?Ge(v,d,p,b,x):Ge(s,c,g,y,x);return l?[e,I]:[I,e]}}s=y,v=b;break}}},t}(j),ei=function(r){F(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(Jr),ri=function(r){F(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new ei},t.prototype.buildPath=function(e,a){var n=a.points,i=a.stackedOnPoints,o=0,s=n.length/2,v=a.smoothMonotone;if(a.connectNulls){for(;s>0&&ut(n[s*2-2],n[s*2-1]);s--);for(;o<s&&ut(n[o*2],n[o*2+1]);o++);}for(;o<s;){var l=ae(e,n,o,s,s,1,a.smooth,v,a.connectNulls);ae(e,i,o+l-1,l,s,-1,a.stackedOnSmooth,v,a.connectNulls),o+=l+1,e.closePath()}},t}(j);function Kr(r,t,e,a,n){var i=r.getArea(),o=i.x,s=i.y,v=i.width,l=i.height,f=e.get(["lineStyle","width"])||2;o-=f/2,s-=f/2,v+=f,l+=f,v=Math.ceil(v),o!==Math.floor(o)&&(o=Math.floor(o),v++);var u=new mt({shape:{x:o,y:s,width:v,height:l}});if(t){var h=r.getBaseAxis(),c=h.isHorizontal(),d=h.inverse;c?(d&&(u.shape.x+=v),u.shape.width=0):(d||(u.shape.y+=l),u.shape.height=0);var g=at(n)?function(p){n(p,u)}:null;Y(u,{shape:{width:v,height:l,x:o,y:s}},e,null,a,g)}return u}function ta(r,t,e){var a=r.getArea(),n=q(a.r0,1),i=q(a.r,1),o=new St({shape:{cx:q(r.cx,1),cy:q(r.cy,1),r0:n,r:i,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});if(t){var s=r.getBaseAxis().dim==="angle";s?o.shape.endAngle=a.startAngle:o.shape.r=n,Y(o,{shape:{endAngle:a.endAngle,r:i}},e)}return o}function ai(r,t,e,a,n){if(r){if(r.type==="polar")return ta(r,t,e);if(r.type==="cartesian2d")return Kr(r,t,e,a,n)}else return null;return null}function Ke(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function tr(r){for(var t=1/0,e=1/0,a=-1/0,n=-1/0,i=0;i<r.length;){var o=r[i++],s=r[i++];isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a)),isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n))}return[[t,e],[a,n]]}function er(r,t){var e=tr(r),a=e[0],n=e[1],i=tr(t),o=i[0],s=i[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]))}function rr(r){return fe(r)?r:r?.5:0}function ni(r,t,e){if(!e.valueDim)return[];for(var a=t.count(),n=gt(a*2),i=0;i<a;i++){var o=Qr(e,r,t,i);n[i*2]=o[0],n[i*2+1]=o[1]}return n}function tt(r,t,e,a){var n=t.getBaseAxis(),i=n.dim==="x"||n.dim==="radius"?0:1,o=[],s=0,v=[],l=[],f=[],u=[];if(a){for(s=0;s<r.length;s+=2)!isNaN(r[s])&&!isNaN(r[s+1])&&u.push(r[s],r[s+1]);r=u}for(s=0;s<r.length-2;s+=2)switch(f[0]=r[s+2],f[1]=r[s+3],l[0]=r[s],l[1]=r[s+1],o.push(l[0],l[1]),e){case"end":v[i]=f[i],v[1-i]=l[1-i],o.push(v[0],v[1]);break;case"middle":var h=(l[i]+f[i])/2,c=[];v[i]=c[i]=h,v[1-i]=l[1-i],c[1-i]=f[1-i],o.push(v[0],v[1]),o.push(c[0],c[1]);break;default:v[i]=l[i],v[1-i]=f[1-i],o.push(v[0],v[1])}return o.push(r[s++],r[s++]),o}function ii(r,t){var e=[],a=r.length,n,i;function o(f,u,h){var c=f.coord,d=(h-c)/(u.coord-c),g=Ya(d,[f.color,u.color]);return{coord:h,color:g}}for(var s=0;s<a;s++){var v=r[s],l=v.coord;if(l<0)n=v;else if(l>t){i?e.push(o(i,v,t)):n&&e.push(o(n,v,0),o(n,v,t));break}else n&&(e.push(o(n,v,0)),n=null),e.push(v),i=v}return e}function oi(r,t,e){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&t.type==="cartesian2d"){for(var n,i,o=a.length-1;o>=0;o--){var s=r.getDimensionInfo(a[o].dimension);if(n=s&&s.coordDim,n==="x"||n==="y"){i=a[o];break}}if(i){var v=t.getAxis(n),l=z(i.stops,function(m){return{coord:v.toGlobalCoord(v.dataToCoord(m.value)),color:m.color}}),f=l.length,u=i.outerColors.slice();f&&l[0].coord>l[f-1].coord&&(l.reverse(),u.reverse());var h=ii(l,n==="x"?e.getWidth():e.getHeight()),c=h.length;if(!c&&f)return l[0].coord<0?u[1]?u[1]:l[f-1].color:u[0]?u[0]:l[0].color;var d=10,g=h[0].coord-d,p=h[c-1].coord+d,y=p-g;if(y<.001)return"transparent";O(h,function(m){m.offset=(m.coord-g)/y}),h.push({offset:c?h[c-1].offset:.5,color:u[1]||"transparent"}),h.unshift({offset:c?h[0].offset:.5,color:u[0]||"transparent"});var b=new $a(0,0,0,0,h,!0);return b[n]=g,b[n+"2"]=p,b}}}function si(r,t,e){var a=r.get("showAllSymbol"),n=a==="auto";if(!(a&&!n)){var i=e.getAxesByScale("ordinal")[0];if(i&&!(n&&li(i,t))){var o=t.mapDimension(i.dim),s={};return O(i.getViewLabels(),function(v){var l=i.scale.getRawOrdinalNumber(v.tickValue);s[l]=1}),function(v){return!s.hasOwnProperty(t.get(o,v))}}}}function li(r,t){var e=r.getExtent(),a=Math.abs(e[1]-e[0])/r.scale.count();isNaN(a)&&(a=0);for(var n=t.count(),i=Math.max(1,Math.round(n/5)),o=0;o<n;o+=i)if(me.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function vi(r,t){return isNaN(r)||isNaN(t)}function ui(r){for(var t=r.length/2;t>0&&vi(r[t*2-2],r[t*2-1]);t--);return t-1}function ar(r,t){return[r[t*2],r[t*2+1]]}function fi(r,t,e){for(var a=r.length/2,n=e==="x"?0:1,i,o,s=0,v=-1,l=0;l<a;l++)if(o=r[l*2+n],!(isNaN(o)||isNaN(r[l*2+1-n]))){if(l===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){v=l;break}s=l,i=o}return{range:[s,v],t:(t-i)/(o-i)}}function ea(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<Fe.length;t++)if(r.get([Fe[t],"endLabel","show"]))return!0;return!1}function Ht(r,t,e,a){if(ye(t,"cartesian2d")){var n=a.getModel("endLabel"),i=n.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},v=ea(a)?function(c,d){r._endLabelOnDuring(c,d,o,s,i,n,t)}:null,l=t.getBaseAxis().isHorizontal(),f=Kr(t,e,a,function(){var c=r._endLabel;c&&e&&s.originalX!=null&&c.attr({x:s.originalX,y:s.originalY})},v);if(!a.get("clip",!0)){var u=f.shape,h=Math.max(u.width,u.height);l?(u.y-=h,u.height+=h*2):(u.x-=h,u.width+=h*2)}return v&&v(1,f),f}else return ta(t,e,a)}function ci(r,t){var e=t.getBaseAxis(),a=e.isHorizontal(),n=e.inverse,i=a?n?"right":"left":"center",o=a?"middle":n?"top":"bottom";return{normal:{align:r.get("align")||i,verticalAlign:r.get("verticalAlign")||o}}}var hi=function(r){F(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new yt,a=new Yn;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=e},t.prototype.render=function(e,a,n){var i=this,o=e.coordinateSystem,s=this.group,v=e.getData(),l=e.getModel("lineStyle"),f=e.getModel("areaStyle"),u=v.getLayout("points")||[],h=o.type==="polar",c=this._coordSys,d=this._symbolDraw,g=this._polyline,p=this._polygon,y=this._lineGroup,b=!a.ssr&&e.get("animation"),m=!f.isEmpty(),I=f.get("origin"),S=jr(o,v,I),A=m&&ni(o,v,S),x=e.get("showSymbol"),_=e.get("connectNulls"),D=x&&!h&&si(e,v,o),T=this._data;T&&T.eachItemGraphicEl(function(B,Nt){B.__temp&&(s.remove(B),T.setItemGraphicEl(Nt,null))}),x||d.remove(),s.add(y);var M=h?!1:e.get("step"),C;o&&o.getArea&&e.get("clip",!0)&&(C=o.getArea(),C.width!=null?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var L=oi(v,o,n)||v.getVisual("style")[v.getVisual("drawType")];if(!(g&&c.type===o.type&&M===this._step))x&&d.updateData(v,{isIgnore:D,clipShape:C,disableAnimation:!0,getSymbolPoint:function(B){return[u[B*2],u[B*2+1]]}}),b&&this._initSymbolLabelAnimation(v,o,C),M&&(u=tt(u,o,M,_),A&&(A=tt(A,o,M,_))),g=this._newPolyline(u),m?p=this._newPolygon(u,A):p&&(y.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,Ne(L)),y.setClipPath(Ht(this,o,!0,e));else{m&&!p?p=this._newPolygon(u,A):p&&!m&&(y.remove(p),p=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,Ne(L));var E=y.getClipPath();if(E){var w=Ht(this,o,!1,e);Y(E,{shape:w.shape},e)}else y.setClipPath(Ht(this,o,!0,e));x&&d.updateData(v,{isIgnore:D,clipShape:C,disableAnimation:!0,getSymbolPoint:function(B){return[u[B*2],u[B*2+1]]}}),(!Ke(this._stackedOnPoints,A)||!Ke(this._points,u))&&(b?this._doUpdateAnimation(v,A,o,n,M,I,_):(M&&(u=tt(u,o,M,_),A&&(A=tt(A,o,M,_))),g.setShape({points:u}),p&&p.setShape({points:u,stackedOnPoints:A})))}var k=e.getModel("emphasis"),N=k.get("focus"),P=k.get("blurScope"),G=k.get("disabled");if(g.useStyle(Z(l.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),Kt(g,e,"lineStyle"),g.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var R=g.getState("emphasis").style;R.lineWidth=+g.style.lineWidth+1}vt(g).seriesIndex=e.seriesIndex,Tt(g,N,P,G);var V=rr(e.get("smooth")),Q=e.get("smoothMonotone");if(g.setShape({smooth:V,smoothMonotone:Q,connectNulls:_}),p){var W=v.getCalculationInfo("stackedOnSeries"),H=0;p.useStyle(Z(f.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:v.getVisual("style").decal})),W&&(H=rr(W.get("smooth"))),p.setShape({smooth:V,stackedOnSmooth:H,smoothMonotone:Q,connectNulls:_}),Kt(p,e,"areaStyle"),vt(p).seriesIndex=e.seriesIndex,Tt(p,N,P,G)}var nt=function(B){i._changePolyState(B)};v.eachItemGraphicEl(function(B){B&&(B.onHoverStateChange=nt)}),this._polyline.onHoverStateChange=nt,this._data=v,this._coordSys=o,this._stackedOnPoints=A,this._points=u,this._step=M,this._valueOrigin=I,e.get("triggerLineEvent")&&(this.packEventData(e,g),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,a){vt(a).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,a,n,i){var o=e.getData(),s=Re(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var v=o.getLayout("points"),l=o.getItemGraphicEl(s);if(!l){var f=v[s*2],u=v[s*2+1];if(isNaN(f)||isNaN(u)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,u))return;var h=e.get("zlevel")||0,c=e.get("z")||0;l=new me(o,s),l.x=f,l.y=u,l.setZ(h,c);var d=l.getSymbolPath().getTextContent();d&&(d.zlevel=h,d.z=c,d.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Ct.prototype.highlight.call(this,e,a,n,i)},t.prototype.downplay=function(e,a,n,i){var o=e.getData(),s=Re(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var v=o.getItemGraphicEl(s);v&&(v.__temp?(o.setItemGraphicEl(s,null),this.group.remove(v)):v.downplay())}else Ct.prototype.downplay.call(this,e,a,n,i)},t.prototype._changePolyState=function(e){var a=this._polygon;Ve(this._polyline,e),a&&Ve(a,e)},t.prototype._newPolyline=function(e){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new ti({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(e,a){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new ri({shape:{points:e,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,a,n){var i,o,s=a.getBaseAxis(),v=s.inverse;a.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):a.type==="polar"&&(i=s.dim==="angle",o=!0);var l=e.hostModel,f=l.get("animationDuration");at(f)&&(f=f(null));var u=l.get("animationDelay")||0,h=at(u)?u(null):u;e.eachItemGraphicEl(function(c,d){var g=c;if(g){var p=[c.x,c.y],y=void 0,b=void 0,m=void 0;if(n)if(o){var I=n,S=a.pointToCoord(p);i?(y=I.startAngle,b=I.endAngle,m=-S[1]/180*Math.PI):(y=I.r0,b=I.r,m=S[0])}else{var A=n;i?(y=A.x,b=A.x+A.width,m=c.x):(y=A.y+A.height,b=A.y,m=c.y)}var x=b===y?0:(m-y)/(b-y);v&&(x=1-x);var _=at(u)?u(d):f*x+h,D=g.getSymbolPath(),T=D.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:_}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:_}),D.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,a,n){var i=e.getModel("endLabel");if(ea(e)){var o=e.getData(),s=this._polyline,v=o.getLayout("points");if(!v){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new Xa({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var f=ui(v);f>=0&&(ve(s,Gt(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:f,defaultText:function(u,h,c){return c!=null?Yr(o,c):pe(o,u)},enableTextSetter:!0},ci(i,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,a,n,i,o,s,v){var l=this._endLabel,f=this._polyline;if(l){e<1&&i.originalX==null&&(i.originalX=l.x,i.originalY=l.y);var u=n.getLayout("points"),h=n.hostModel,c=h.get("connectNulls"),d=s.get("precision"),g=s.get("distance")||0,p=v.getBaseAxis(),y=p.isHorizontal(),b=p.inverse,m=a.shape,I=b?y?m.x:m.y+m.height:y?m.x+m.width:m.y,S=(y?g:0)*(b?-1:1),A=(y?0:-g)*(b?-1:1),x=y?"x":"y",_=fi(u,I,x),D=_.range,T=D[1]-D[0],M=void 0;if(T>=1){if(T>1&&!c){var C=ar(u,D[0]);l.attr({x:C[0]+S,y:C[1]+A}),o&&(M=h.getRawValue(D[0]))}else{var C=f.getPointOn(I,x);C&&l.attr({x:C[0]+S,y:C[1]+A});var L=h.getRawValue(D[0]),E=h.getRawValue(D[1]);o&&(M=qa(n,d,L,E,_.t))}i.lastFrameIndex=D[0]}else{var w=e===1||i.lastFrameIndex>0?D[0]:0,C=ar(u,w);o&&(M=h.getRawValue(w)),l.attr({x:C[0]+S,y:C[1]+A})}if(o){var k=Rr(l);typeof k.setLabelText=="function"&&k.setLabelText(M)}}},t.prototype._doUpdateAnimation=function(e,a,n,i,o,s,v){var l=this._polyline,f=this._polygon,u=e.hostModel,h=Kn(this._data,e,this._stackedOnPoints,a,this._coordSys,n,this._valueOrigin),c=h.current,d=h.stackedOnCurrent,g=h.next,p=h.stackedOnNext;if(o&&(c=tt(h.current,n,o,v),d=tt(h.stackedOnCurrent,n,o,v),g=tt(h.next,n,o,v),p=tt(h.stackedOnNext,n,o,v)),er(c,g)>3e3||f&&er(d,p)>3e3){l.stopAnimation(),l.setShape({points:g}),f&&(f.stopAnimation(),f.setShape({points:g,stackedOnPoints:p}));return}l.shape.__points=h.current,l.shape.points=c;var y={shape:{points:g}};h.current!==c&&(y.shape.__points=h.next),l.stopAnimation(),$(l,y,u),f&&(f.setShape({points:c,stackedOnPoints:d}),f.stopAnimation(),$(f,{shape:{stackedOnPoints:p}},u),l.shape.points!==f.shape.points&&(f.shape.points=l.shape.points));for(var b=[],m=h.status,I=0;I<m.length;I++){var S=m[I].cmd;if(S==="="){var A=e.getItemGraphicEl(m[I].idx1);A&&b.push({el:A,ptIdx:I})}}l.animators&&l.animators.length&&l.animators[0].during(function(){f&&f.dirtyShape();for(var x=l.shape.__points,_=0;_<b.length;_++){var D=b[_].el,T=b[_].ptIdx*2;D.x=x[T],D.y=x[T+1],D.markRedraw()}})},t.prototype.remove=function(e){var a=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(a.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Ct);function di(r,t){return{seriesType:r,plan:ja(),reset:function(e){var a=e.getData(),n=e.coordinateSystem;if(e.pipelineContext,!!n){var i=z(n.dimensions,function(u){return a.mapDimension(u)}).slice(0,2),o=i.length,s=a.getCalculationInfo("stackResultDimension");Lt(a,i[0])&&(i[0]=s),Lt(a,i[1])&&(i[1]=s);var v=a.getStore(),l=a.getDimensionIndex(i[0]),f=a.getDimensionIndex(i[1]);return o&&{progress:function(u,h){for(var c=u.end-u.start,d=gt(c*o),g=[],p=[],y=u.start,b=0;y<u.end;y++){var m=void 0;if(o===1){var I=v.get(l,y);m=n.dataToPoint(I,null,p)}else g[0]=v.get(l,y),g[1]=v.get(f,y),m=n.dataToPoint(g,null,p);d[b++]=m[0],d[b++]=m[1]}h.setLayout("points",d)}}}}}}var gi={average:function(r){for(var t=0,e=0,a=0;a<r.length;a++)isNaN(r[a])||(t+=r[a],e++);return e===0?NaN:t/e},sum:function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e]||0;return t},max:function(r){for(var t=-1/0,e=0;e<r.length;e++)r[e]>t&&(t=r[e]);return isFinite(t)?t:NaN},min:function(r){for(var t=1/0,e=0;e<r.length;e++)r[e]<t&&(t=r[e]);return isFinite(t)?t:NaN},minmax:function(r){for(var t=-1/0,e=-1/0,a=0;a<r.length;a++){var n=r[a],i=Math.abs(n);i>t&&(t=i,e=n)}return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},pi=function(r){return Math.round(r.length/2)};function ra(r){return{seriesType:r,reset:function(t,e,a){var n=t.getData(),i=t.get("sampling"),o=t.coordinateSystem,s=n.count();if(s>10&&o.type==="cartesian2d"&&i){var v=o.getBaseAxis(),l=o.getOtherAxis(v),f=v.getExtent(),u=a.getDevicePixelRatio(),h=Math.abs(f[1]-f[0])*(u||1),c=Math.round(s/h);if(isFinite(c)&&c>1){i==="lttb"&&t.setData(n.lttbDownSample(n.mapDimension(l.dim),1/c));var d=void 0;Qa(i)?d=gi[i]:at(i)&&(d=i),d&&t.setData(n.downSample(n.mapDimension(l.dim),1/c,d,pi))}}}}}function io(r){r.registerChartView(hi),r.registerSeriesModel(jn),r.registerLayout(di("line")),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,ra("line"))}var ne=function(r){F(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,a){return de(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,a,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(e),s=i.dataToPoint(o);if(n)O(i.getAxes(),function(h,c){if(h.type==="category"&&a!=null){var d=h.getTicksCoords(),g=h.getTickModel().get("alignWithLabel"),p=o[c],y=a[c]==="x1"||a[c]==="y1";if(y&&!g&&(p+=1),d.length<2)return;if(d.length===2){s[c]=h.toGlobalCoord(h.getExtent()[y?1:0]);return}for(var b=void 0,m=void 0,I=1,S=0;S<d.length;S++){var A=d[S].coord,x=S===d.length-1?d[S-1].tickValue+I:d[S].tickValue;if(x===p){m=A;break}else if(x<p)b=A;else if(b!=null&&x>p){m=(A+b)/2;break}S===1&&(I=x-d[0].tickValue)}m==null&&(b?b&&(m=d[d.length-1].coord):m=d[0].coord),s[c]=h.toGlobalCoord(m)}});else{var v=this.getData(),l=v.getLayout("offset"),f=v.getLayout("size"),u=i.getBaseAxis().isHorizontal()?0:1;s[u]+=l+f/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(ue);ue.registerClass(ne);var mi=function(r){F(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return de(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>e&&(e=a),e},t.prototype.brushSelector=function(e,a,n){return n.rect(a.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Ja(ne.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(ne),yi=function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r}(),nr=function(r){F(t,r);function t(e){var a=r.call(this,e)||this;return a.type="sausage",a}return t.prototype.getDefaultShape=function(){return new yi},t.prototype.buildPath=function(e,a){var n=a.cx,i=a.cy,o=Math.max(a.r0||0,0),s=Math.max(a.r,0),v=(s-o)*.5,l=o+v,f=a.startAngle,u=a.endAngle,h=a.clockwise,c=Math.PI*2,d=h?u-f<c:f-u<c;d||(f=u-(h?c:-c));var g=Math.cos(f),p=Math.sin(f),y=Math.cos(u),b=Math.sin(u);d?(e.moveTo(g*o+n,p*o+i),e.arc(g*l+n,p*l+i,v,-Math.PI+f,f,!h)):e.moveTo(g*s+n,p*s+i),e.arc(n,i,s,f,u,!h),e.arc(y*l+n,b*l+i,v,u-Math.PI*2,u-Math.PI,!h),o!==0&&e.arc(n,i,o,u,f,h)},t}(j);function bi(r,t){t=t||{};var e=t.isRoundCap;return function(a,n,i){var o=n.position;if(!o||o instanceof Array)return ze(a,n,i);var s=r(o),v=n.distance!=null?n.distance:5,l=this.shape,f=l.cx,u=l.cy,h=l.r,c=l.r0,d=(h+c)/2,g=l.startAngle,p=l.endAngle,y=(g+p)/2,b=e?Math.abs(h-c)/2:0,m=Math.cos,I=Math.sin,S=f+h*m(g),A=u+h*I(g),x="left",_="top";switch(s){case"startArc":S=f+(c-v)*m(y),A=u+(c-v)*I(y),x="center",_="top";break;case"insideStartArc":S=f+(c+v)*m(y),A=u+(c+v)*I(y),x="center",_="bottom";break;case"startAngle":S=f+d*m(g)+Dt(g,v+b,!1),A=u+d*I(g)+_t(g,v+b,!1),x="right",_="middle";break;case"insideStartAngle":S=f+d*m(g)+Dt(g,-v+b,!1),A=u+d*I(g)+_t(g,-v+b,!1),x="left",_="middle";break;case"middle":S=f+d*m(y),A=u+d*I(y),x="center",_="middle";break;case"endArc":S=f+(h+v)*m(y),A=u+(h+v)*I(y),x="center",_="bottom";break;case"insideEndArc":S=f+(h-v)*m(y),A=u+(h-v)*I(y),x="center",_="top";break;case"endAngle":S=f+d*m(p)+Dt(p,v+b,!0),A=u+d*I(p)+_t(p,v+b,!0),x="left",_="middle";break;case"insideEndAngle":S=f+d*m(p)+Dt(p,-v+b,!0),A=u+d*I(p)+_t(p,-v+b,!0),x="right",_="middle";break;default:return ze(a,n,i)}return a=a||{},a.x=S,a.y=A,a.align=x,a.verticalAlign=_,a}}function Ai(r,t,e,a){if(fe(a)){r.setTextConfig({rotation:a});return}else if(X(t)){r.setTextConfig({rotation:0});return}var n=r.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,s=(i+o)/2,v,l=e(t);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":v=s;break;case"startAngle":case"insideStartAngle":v=i;break;case"endAngle":case"insideEndAngle":v=o;break;default:r.setTextConfig({rotation:0});return}var f=Math.PI*1.5-v;l==="middle"&&f>Math.PI/2&&f<Math.PI*1.5&&(f-=Math.PI),r.setTextConfig({rotation:f})}function Dt(r,t,e){return t*Math.sin(r)*(e?-1:1)}function _t(r,t,e){return t*Math.cos(r)*(e?1:-1)}var Zt=Math.max,Ut=Math.min;function Si(r,t){var e=r.getArea&&r.getArea();if(ye(r,"cartesian2d")){var a=r.getBaseAxis();if(a.type!=="category"||!a.onBand){var n=t.getLayout("bandWidth");a.isHorizontal()?(e.x-=n,e.width+=n*2):(e.y-=n,e.height+=n*2)}}return e}var xi=function(r){F(t,r);function t(){var e=r.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,a,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,a,n):this._renderNormal(e,a,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,a){this._progressiveEls=[],this._incrementalRenderLarge(e,a)},t.prototype.eachRendered=function(e){Gr(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var a=e.pipelineContext.large;(this._isLargeDraw==null||a!==this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},t.prototype._renderNormal=function(e,a,n,i){var o=this.group,s=e.getData(),v=this._data,l=e.coordinateSystem,f=l.getBaseAxis(),u;l.type==="cartesian2d"?u=f.isHorizontal():l.type==="polar"&&(u=f.dim==="angle");var h=e.isAnimationEnabled()?e:null,c=Ii(e,l);c&&this._enableRealtimeSort(c,s,n);var d=e.get("clip",!0)||c,g=Si(l,s);o.removeClipPath();var p=e.get("roundCap",!0),y=e.get("showBackground",!0),b=e.getModel("backgroundStyle"),m=b.get("borderRadius")||0,I=[],S=this._backgroundEls,A=i&&i.isInitSort,x=i&&i.type==="changeAxisOrder";function _(M){var C=Mt[l.type](s,M),L=wi(l,u,C);return L.useStyle(b.getItemStyle()),l.type==="cartesian2d"?L.setShape("r",m):L.setShape("cornerRadius",m),I[M]=L,L}s.diff(v).add(function(M){var C=s.getItemModel(M),L=Mt[l.type](s,M,C);if(y&&_(M),!(!s.hasValue(M)||!vr[l.type](L))){var E=!1;d&&(E=ir[l.type](g,L));var w=or[l.type](e,s,M,L,u,h,f.model,!1,p);c&&(w.forceLabelAnimation=!0),ur(w,s,M,C,L,e,u,l.type==="polar"),A?w.attr({shape:L}):c?sr(c,h,w,L,M,u,!1,!1):Y(w,{shape:L},e,M),s.setItemGraphicEl(M,w),o.add(w),w.ignore=E}}).update(function(M,C){var L=s.getItemModel(M),E=Mt[l.type](s,M,L);if(y){var w=void 0;S.length===0?w=_(C):(w=S[C],w.useStyle(b.getItemStyle()),l.type==="cartesian2d"?w.setShape("r",m):w.setShape("cornerRadius",m),I[M]=w);var k=Mt[l.type](s,M),N=na(u,k,l);$(w,{shape:N},h,M)}var P=v.getItemGraphicEl(C);if(!s.hasValue(M)||!vr[l.type](E)){o.remove(P);return}var G=!1;if(d&&(G=ir[l.type](g,E),G&&o.remove(P)),P?Or(P):P=or[l.type](e,s,M,E,u,h,f.model,!!P,p),c&&(P.forceLabelAnimation=!0),x){var R=P.getTextContent();if(R){var V=Rr(R);V.prevValue!=null&&(V.prevValue=V.value)}}else ur(P,s,M,L,E,e,u,l.type==="polar");A?P.attr({shape:E}):c?sr(c,h,P,E,M,u,!0,x):$(P,{shape:E},e,M,null),s.setItemGraphicEl(M,P),P.ignore=G,o.add(P)}).remove(function(M){var C=v.getItemGraphicEl(M);C&&Be(C,e,M)}).execute();var D=this._backgroundGroup||(this._backgroundGroup=new yt);D.removeAll();for(var T=0;T<I.length;++T)D.add(I[T]);o.add(D),this._backgroundEls=I,this._data=s},t.prototype._renderLarge=function(e,a,n){this._clear(),cr(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,a){this._removeBackground(),cr(a,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var a=e.get("clip",!0)&&ai(e.coordinateSystem,!1,e),n=this.group;a?n.setClipPath(a):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,a,n){var i=this;if(a.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(a,e,n),this._isFirstFrame=!1;else{var s=function(v){var l=a.getItemGraphicEl(v),f=l&&l.shape;return f&&Math.abs(o.isHorizontal()?f.height:f.width)||0};this._onRendered=function(){i._updateSortWithinSameData(a,s,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,a,n){var i=[];return e.each(e.mapDimension(a.dim),function(o,s){var v=n(s);v=v??NaN,i.push({dataIndex:s,mappedValue:v,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:z(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,a,n){for(var i=n.scale,o=e.mapDimension(n.dim),s=Number.MAX_VALUE,v=0,l=i.getOrdinalMeta().categories.length;v<l;++v){var f=e.rawIndexOf(o,i.getRawOrdinalNumber(v)),u=f<0?Number.MIN_VALUE:a(e.indexOfRawIndex(f));if(u>s)return!0;s=u}return!1},t.prototype._isOrderDifferentInView=function(e,a){for(var n=a.scale,i=n.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,a,n,i){if(this._isOrderChangedWithinSameData(e,a,n)){var o=this._dataSort(e,n,a);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,a,n){var i=a.baseAxis,o=this._dataSort(e,i,function(s){return e.get(e.mapDimension(a.otherAxis.dim),s)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(e,a){this._clear(this._model),this._removeOnRenderedListener(a)},t.prototype.dispose=function(e,a){this._removeOnRenderedListener(a)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var a=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){Be(i,e,vt(i).dataIndex)})):a.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Ct),ir={cartesian2d:function(r,t){var e=t.width<0?-1:1,a=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height);var n=r.x+r.width,i=r.y+r.height,o=Zt(t.x,r.x),s=Ut(t.x+t.width,n),v=Zt(t.y,r.y),l=Ut(t.y+t.height,i),f=s<o,u=l<v;return t.x=f&&o>n?s:o,t.y=u&&v>i?l:v,t.width=f?0:s-o,t.height=u?0:l-v,e<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),f||u},polar:function(r,t){var e=t.r0<=t.r?1:-1;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}var n=Ut(t.r,r.r),i=Zt(t.r0,r.r0);t.r=n,t.r0=i;var o=n-i<0;if(e<0){var a=t.r;t.r=t.r0,t.r0=a}return o}},or={cartesian2d:function(r,t,e,a,n,i,o,s,v){var l=new mt({shape:ft({},a),z2:1});if(l.__dataIndex=e,l.name="item",i){var f=l.shape,u=n?"height":"width";f[u]=0}return l},polar:function(r,t,e,a,n,i,o,s,v){var l=!n&&v?nr:St,f=new l({shape:a,z2:1});f.name="item";var u=aa(n);if(f.calculateTextPosition=bi(u,{isRoundCap:l===nr}),i){var h=f.shape,c=n?"r":"endAngle",d={};h[c]=n?a.r0:a.startAngle,d[c]=a[c],(s?$:Y)(f,{shape:d},i)}return f}};function Ii(r,t){var e=r.get("realtimeSort",!0),a=t.getBaseAxis();if(e&&a.type==="category"&&t.type==="cartesian2d")return{baseAxis:a,otherAxis:t.getOtherAxis(a)}}function sr(r,t,e,a,n,i,o,s){var v,l;i?(l={x:a.x,width:a.width},v={y:a.y,height:a.height}):(l={y:a.y,height:a.height},v={x:a.x,width:a.width}),s||(o?$:Y)(e,{shape:v},t,n,null);var f=t?r.baseAxis.model:null;(o?$:Y)(e,{shape:l},f,n)}function lr(r,t){for(var e=0;e<t.length;e++)if(!isFinite(r[t[e]]))return!0;return!1}var Di=["x","y","width","height"],_i=["cx","cy","r","startAngle","endAngle"],vr={cartesian2d:function(r){return!lr(r,Di)},polar:function(r){return!lr(r,_i)}},Mt={cartesian2d:function(r,t,e){var a=r.getItemLayout(t),n=e?Ci(e,a):0,i=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+i*n/2,y:a.y+o*n/2,width:a.width-i*n,height:a.height-o*n}},polar:function(r,t,e){var a=r.getItemLayout(t);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function Mi(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function aa(r){return function(t){var e=t?"Arc":"Angle";return function(a){switch(a){case"start":case"insideStart":case"end":case"insideEnd":return a+e;default:return a}}}(r)}function ur(r,t,e,a,n,i,o,s){var v=t.getItemVisual(e,"style");if(s){if(!i.get("roundCap")){var f=r.shape,u=Ka(a.getModel("itemStyle"),f,!0);ft(f,u),r.setShape(f)}}else{var l=a.get(["itemStyle","borderRadius"])||0;r.setShape("r",l)}r.useStyle(v);var h=a.getShallow("cursor");h&&r.attr("cursor",h);var c=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",d=Gt(a);ve(r,d,{labelFetcher:i,labelDataIndex:e,defaultText:pe(i.getData(),e),inheritColor:v.fill,defaultOpacity:v.opacity,defaultOutsidePosition:c});var g=r.getTextContent();if(s&&g){var p=a.get(["label","position"]);r.textConfig.inside=p==="middle"?!0:null,Ai(r,p==="outside"?c:p,aa(o),a.get(["label","rotate"]))}tn(g,d,i.getRawValue(e),function(b){return Yr(t,b)});var y=a.getModel(["emphasis"]);Tt(r,y.get("focus"),y.get("blurScope"),y.get("disabled")),Kt(r,a),Mi(n)&&(r.style.fill="none",r.style.stroke="none",O(r.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function Ci(r,t){var e=r.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var a=r.get(["itemStyle","borderWidth"])||0,n=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(a,n,i)}var Ti=function(){function r(){}return r}(),fr=function(r){F(t,r);function t(e){var a=r.call(this,e)||this;return a.type="largeBar",a}return t.prototype.getDefaultShape=function(){return new Ti},t.prototype.buildPath=function(e,a){for(var n=a.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],v=[],l=this.barWidth,f=0;f<n.length;f+=3)v[i]=l,v[o]=n[f+2],s[i]=n[f+i],s[o]=n[f+o],e.rect(s[0],s[1],v[0],v[1])},t}(j);function cr(r,t,e,a){var n=r.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),v=r.getModel("backgroundStyle"),l=n.getLayout("largeBackgroundPoints");if(l){var f=new fr({shape:{points:l},incremental:!!a,silent:!0,z2:0});f.baseDimIdx=i,f.largeDataIndices=o,f.barWidth=s,f.useStyle(v.getItemStyle()),t.add(f),e&&e.push(f)}var u=new fr({shape:{points:n.getLayout("largePoints")},incremental:!!a,ignoreCoarsePointer:!0,z2:1});u.baseDimIdx=i,u.largeDataIndices=o,u.barWidth=s,t.add(u),u.useStyle(n.getVisual("style")),vt(u).seriesIndex=r.seriesIndex,r.get("silent")||(u.on("mousedown",hr),u.on("mousemove",hr)),e&&e.push(u)}var hr=en(function(r){var t=this,e=Li(t,r.offsetX,r.offsetY);vt(t).dataIndex=e>=0?e:null},30,!1);function Li(r,t,e){for(var a=r.baseDimIdx,n=1-a,i=r.shape.points,o=r.largeDataIndices,s=[],v=[],l=r.barWidth,f=0,u=i.length/3;f<u;f++){var h=f*3;if(v[a]=l,v[n]=i[h+2],s[a]=i[h+a],s[n]=i[h+n],v[n]<0&&(s[n]+=v[n],v[n]=-v[n]),t>=s[0]&&t<=s[0]+v[0]&&e>=s[1]&&e<=s[1]+v[1])return o[f]}return-1}function na(r,t,e){if(ye(e,"cartesian2d")){var a=t,n=e.getArea();return{x:r?a.x:n.x,y:r?n.y:a.y,width:r?a.width:n.width,height:r?n.height:a.height}}else{var n=e.getArea(),i=t;return{cx:n.cx,cy:n.cy,r0:r?n.r0:i.r0,r:r?n.r:i.r,startAngle:r?i.startAngle:0,endAngle:r?i.endAngle:Math.PI*2}}}function wi(r,t,e){var a=r.type==="polar"?St:mt;return new a({shape:na(t,e,r),silent:!0,z2:0})}function oo(r){r.registerChartView(xi),r.registerSeriesModel(mi),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,wr(an,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,rn("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,ra("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var a=t.componentType||"series";e.eachComponent({mainType:a,query:t},function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)})})}var U=Nr.CMD;function pt(r,t){return Math.abs(r-t)<1e-5}function ie(r){var t=r.data,e=r.len(),a=[],n,i=0,o=0,s=0,v=0;function l(L,E){n&&n.length>2&&a.push(n),n=[L,E]}function f(L,E,w,k){pt(L,w)&&pt(E,k)||n.push(L,E,w,k,w,k)}function u(L,E,w,k,N,P){var G=Math.abs(E-L),R=Math.tan(G/4)*4/3,V=E<L?-1:1,Q=Math.cos(L),W=Math.sin(L),H=Math.cos(E),nt=Math.sin(E),B=Q*N+w,Nt=W*P+k,Ae=H*N+w,Se=nt*P+k,xe=N*R*V,Ie=P*R*V;n.push(B-xe*W,Nt+Ie*Q,Ae+xe*nt,Se-Ie*H,Ae,Se)}for(var h,c,d,g,p=0;p<e;){var y=t[p++],b=p===1;switch(b&&(i=t[p],o=t[p+1],s=i,v=o,(y===U.L||y===U.C||y===U.Q)&&(n=[s,v])),y){case U.M:i=s=t[p++],o=v=t[p++],l(s,v);break;case U.L:h=t[p++],c=t[p++],f(i,o,h,c),i=h,o=c;break;case U.C:n.push(t[p++],t[p++],t[p++],t[p++],i=t[p++],o=t[p++]);break;case U.Q:h=t[p++],c=t[p++],d=t[p++],g=t[p++],n.push(i+2/3*(h-i),o+2/3*(c-o),d+2/3*(h-d),g+2/3*(c-g),d,g),i=d,o=g;break;case U.A:var m=t[p++],I=t[p++],S=t[p++],A=t[p++],x=t[p++],_=t[p++]+x;p+=1;var D=!t[p++];h=Math.cos(x)*S+m,c=Math.sin(x)*A+I,b?(s=h,v=c,l(s,v)):f(i,o,h,c),i=Math.cos(_)*S+m,o=Math.sin(_)*A+I;for(var T=(D?-1:1)*Math.PI/2,M=x;D?M>_:M<_;M+=T){var C=D?Math.max(M+T,_):Math.min(M+T,_);u(M,C,m,I,S,A)}break;case U.R:s=i=t[p++],v=o=t[p++],h=s+t[p++],c=v+t[p++],l(h,v),f(h,v,h,c),f(h,c,s,c),f(s,c,s,v),f(s,v,h,v);break;case U.Z:n&&f(i,o,s,v),i=s,o=v;break}}return n&&n.length>2&&a.push(n),a}function oe(r,t,e,a,n,i,o,s,v,l){if(pt(r,e)&&pt(t,a)&&pt(n,o)&&pt(i,s)){v.push(o,s);return}var f=2/l,u=f*f,h=o-r,c=s-t,d=Math.sqrt(h*h+c*c);h/=d,c/=d;var g=e-r,p=a-t,y=n-o,b=i-s,m=g*g+p*p,I=y*y+b*b;if(m<u&&I<u){v.push(o,s);return}var S=h*g+c*p,A=-h*y-c*b,x=m-S*S,_=I-A*A;if(x<u&&S>=0&&_<u&&A>=0){v.push(o,s);return}var D=[],T=[];wt(r,e,n,o,.5,D),wt(t,a,i,s,.5,T),oe(D[0],T[0],D[1],T[1],D[2],T[2],D[3],T[3],v,l),oe(D[4],T[4],D[5],T[5],D[6],T[6],D[7],T[7],v,l)}function Pi(r,t){var e=ie(r),a=[];t=t||1;for(var n=0;n<e.length;n++){var i=e[n],o=[],s=i[0],v=i[1];o.push(s,v);for(var l=2;l<i.length;){var f=i[l++],u=i[l++],h=i[l++],c=i[l++],d=i[l++],g=i[l++];oe(s,v,f,u,h,c,d,g,o,t),s=d,v=g}a.push(o)}return a}function ia(r,t,e){var a=r[t],n=r[1-t],i=Math.abs(a/n),o=Math.ceil(Math.sqrt(i*e)),s=Math.floor(e/o);s===0&&(s=1,o=e);for(var v=[],l=0;l<o;l++)v.push(s);var f=o*s,u=e-f;if(u>0)for(var l=0;l<u;l++)v[l%o]+=1;return v}function dr(r,t,e){for(var a=r.r0,n=r.r,i=r.startAngle,o=r.endAngle,s=Math.abs(o-i),v=s*n,l=n-a,f=v>Math.abs(l),u=ia([v,l],f?0:1,t),h=(f?s:l)/u.length,c=0;c<u.length;c++)for(var d=(f?l:s)/u[c],g=0;g<u[c];g++){var p={};f?(p.startAngle=i+h*c,p.endAngle=i+h*(c+1),p.r0=a+d*g,p.r=a+d*(g+1)):(p.startAngle=i+d*g,p.endAngle=i+d*(g+1),p.r0=a+h*c,p.r=a+h*(c+1)),p.clockwise=r.clockwise,p.cx=r.cx,p.cy=r.cy,e.push(p)}}function Ei(r,t,e){for(var a=r.width,n=r.height,i=a>n,o=ia([a,n],i?0:1,t),s=i?"width":"height",v=i?"height":"width",l=i?"x":"y",f=i?"y":"x",u=r[s]/o.length,h=0;h<o.length;h++)for(var c=r[v]/o[h],d=0;d<o[h];d++){var g={};g[l]=h*u,g[f]=d*c,g[s]=u,g[v]=c,g.x+=r.x,g.y+=r.y,e.push(g)}}function gr(r,t,e,a){return r*a-e*t}function ki(r,t,e,a,n,i,o,s){var v=e-r,l=a-t,f=o-n,u=s-i,h=gr(f,u,v,l);if(Math.abs(h)<1e-6)return null;var c=r-n,d=t-i,g=gr(c,d,f,u)/h;return g<0||g>1?null:new lt(g*v+r,g*l+t)}function Oi(r,t,e){var a=new lt;lt.sub(a,e,t),a.normalize();var n=new lt;lt.sub(n,r,t);var i=n.dot(a);return i}function ht(r,t){var e=r[r.length-1];e&&e[0]===t[0]&&e[1]===t[1]||r.push(t)}function Gi(r,t,e){for(var a=r.length,n=[],i=0;i<a;i++){var o=r[i],s=r[(i+1)%a],v=ki(o[0],o[1],s[0],s[1],t.x,t.y,e.x,e.y);v&&n.push({projPt:Oi(v,t,e),pt:v,idx:i})}if(n.length<2)return[{points:r},{points:r}];n.sort(function(p,y){return p.projPt-y.projPt});var l=n[0],f=n[n.length-1];if(f.idx<l.idx){var u=l;l=f,f=u}for(var h=[l.pt.x,l.pt.y],c=[f.pt.x,f.pt.y],d=[h],g=[c],i=l.idx+1;i<=f.idx;i++)ht(d,r[i].slice());ht(d,c),ht(d,h);for(var i=f.idx+1;i<=l.idx+a;i++)ht(g,r[i%a].slice());return ht(g,h),ht(g,c),[{points:d},{points:g}]}function pr(r){var t=r.points,e=[],a=[];Vr(t,e,a);var n=new jt(e[0],e[1],a[0]-e[0],a[1]-e[1]),i=n.width,o=n.height,s=n.x,v=n.y,l=new lt,f=new lt;return i>o?(l.x=f.x=s+i/2,l.y=v,f.y=v+o):(l.y=f.y=v+o/2,l.x=s,f.x=s+i),Gi(t,l,f)}function Pt(r,t,e,a){if(e===1)a.push(t);else{var n=Math.floor(e/2),i=r(t);Pt(r,i[0],n,a),Pt(r,i[1],e-n,a)}return a}function Ni(r,t){for(var e=[],a=0;a<t;a++)e.push(ce(r));return e}function Ri(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function Vi(r){for(var t=[],e=0;e<r.length;)t.push([r[e++],r[e++]]);return t}function Fi(r,t){var e=[],a=r.shape,n;switch(r.type){case"rect":Ei(a,t,e),n=mt;break;case"sector":dr(a,t,e),n=St;break;case"circle":dr({r0:0,r:a.r,startAngle:0,endAngle:Math.PI*2,cx:a.cx,cy:a.cy},t,e),n=St;break;default:var i=r.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=z(Pi(r.getUpdatedPathProxy(),o),function(y){return Vi(y)}),v=s.length;if(v===0)Pt(pr,{points:s[0]},t,e);else if(v===t)for(var l=0;l<v;l++)e.push({points:s[l]});else{var f=0,u=z(s,function(y){var b=[],m=[];Vr(y,b,m);var I=(m[1]-b[1])*(m[0]-b[0]);return f+=I,{poly:y,area:I}});u.sort(function(y,b){return b.area-y.area});for(var h=t,l=0;l<v;l++){var c=u[l];if(h<=0)break;var d=l===v-1?h:Math.ceil(c.area/f*t);d<0||(Pt(pr,{points:c.poly},d,e),h-=d)}}n=nn;break}if(!n)return Ni(r,t);for(var g=[],l=0;l<e.length;l++){var p=new n;p.setShape(e[l]),Ri(r,p),g.push(p)}return g}function zi(r,t){var e=r.length,a=t.length;if(e===a)return[r,t];for(var n=[],i=[],o=e<a?r:t,s=Math.min(e,a),v=Math.abs(a-e)/6,l=(s-2)/6,f=Math.ceil(v/l)+1,u=[o[0],o[1]],h=v,c=2;c<s;){var d=o[c-2],g=o[c-1],p=o[c++],y=o[c++],b=o[c++],m=o[c++],I=o[c++],S=o[c++];if(h<=0){u.push(p,y,b,m,I,S);continue}for(var A=Math.min(h,f-1)+1,x=1;x<=A;x++){var _=x/A;wt(d,p,b,I,_,n),wt(g,y,m,S,_,i),d=n[3],g=i[3],u.push(n[1],i[1],n[2],i[2],d,g),p=n[5],y=i[5],b=n[6],m=i[6]}h-=A-1}return o===r?[u,t]:[r,u]}function mr(r,t){for(var e=r.length,a=r[e-2],n=r[e-1],i=[],o=0;o<t.length;)i[o++]=a,i[o++]=n;return i}function Bi(r,t){for(var e,a,n,i=[],o=[],s=0;s<Math.max(r.length,t.length);s++){var v=r[s],l=t[s],f=void 0,u=void 0;v?l?(e=zi(v,l),f=e[0],u=e[1],a=f,n=u):(u=mr(n||v,v),f=v):(f=mr(a||l,l),u=l),i.push(f),o.push(u)}return[i,o]}function yr(r){for(var t=0,e=0,a=0,n=r.length,i=0,o=n-2;i<n;o=i,i+=2){var s=r[o],v=r[o+1],l=r[i],f=r[i+1],u=s*f-l*v;t+=u,e+=(s+l)*u,a+=(v+f)*u}return t===0?[r[0]||0,r[1]||0]:[e/t/3,a/t/3,t]}function Wi(r,t,e,a){for(var n=(r.length-2)/6,i=1/0,o=0,s=r.length,v=s-2,l=0;l<n;l++){for(var f=l*6,u=0,h=0;h<s;h+=2){var c=h===0?f:(f+h-2)%v+2,d=r[c]-e[0],g=r[c+1]-e[1],p=t[h]-a[0],y=t[h+1]-a[1],b=p-d,m=y-g;u+=b*b+m*m}u<i&&(i=u,o=l)}return o}function Hi(r){for(var t=[],e=r.length,a=0;a<e;a+=2)t[a]=r[e-a-2],t[a+1]=r[e-a-1];return t}function Zi(r,t,e,a){for(var n=[],i,o=0;o<r.length;o++){var s=r[o],v=t[o],l=yr(s),f=yr(v);i==null&&(i=l[2]<0!=f[2]<0);var u=[],h=[],c=0,d=1/0,g=[],p=s.length;i&&(s=Hi(s));for(var y=Wi(s,v,l,f)*6,b=p-2,m=0;m<b;m+=2){var I=(y+m)%b+2;u[m+2]=s[I]-l[0],u[m+3]=s[I+1]-l[1]}u[0]=s[y]-l[0],u[1]=s[y+1]-l[1];for(var S=a/e,A=-a/2;A<=a/2;A+=S){for(var x=Math.sin(A),_=Math.cos(A),D=0,m=0;m<s.length;m+=2){var T=u[m],M=u[m+1],C=v[m]-f[0],L=v[m+1]-f[1],E=C*_-L*x,w=C*x+L*_;g[m]=E,g[m+1]=w;var k=E-T,N=w-M;D+=k*k+N*N}if(D<d){d=D,c=A;for(var P=0;P<g.length;P++)h[P]=g[P]}}n.push({from:u,to:h,fromCp:l,toCp:f,rotation:-c})}return n}function Et(r){return r.__isCombineMorphing}var oa="__mOriginal_";function kt(r,t,e){var a=oa+t,n=r[a]||r[t];r[a]||(r[a]=r[t]);var i=e.replace,o=e.after,s=e.before;r[t]=function(){var v=arguments,l;return s&&s.apply(this,v),i?l=i.apply(this,v):l=n.apply(this,v),o&&o.apply(this,v),l}}function At(r,t){var e=oa+t;r[e]&&(r[t]=r[e],r[e]=null)}function br(r,t){for(var e=0;e<r.length;e++)for(var a=r[e],n=0;n<a.length;){var i=a[n],o=a[n+1];a[n++]=t[0]*i+t[2]*o+t[4],a[n++]=t[1]*i+t[3]*o+t[5]}}function sa(r,t){var e=r.getUpdatedPathProxy(),a=t.getUpdatedPathProxy(),n=Bi(ie(e),ie(a)),i=n[0],o=n[1],s=r.getComputedTransform(),v=t.getComputedTransform();function l(){this.transform=null}s&&br(i,s),v&&br(o,v),kt(t,"updateTransform",{replace:l}),t.transform=null;var f=Zi(i,o,10,Math.PI),u=[];kt(t,"buildPath",{replace:function(h){for(var c=t.__morphT,d=1-c,g=[],p=0;p<f.length;p++){var y=f[p],b=y.from,m=y.to,I=y.rotation*c,S=y.fromCp,A=y.toCp,x=Math.sin(I),_=Math.cos(I);on(g,S,A,c);for(var D=0;D<b.length;D+=2){var T=b[D],M=b[D+1],C=m[D],L=m[D+1],E=T*d+C*c,w=M*d+L*c;u[D]=E*_-w*x+g[0],u[D+1]=E*x+w*_+g[1]}var k=u[0],N=u[1];h.moveTo(k,N);for(var D=2;D<b.length;){var C=u[D++],L=u[D++],P=u[D++],G=u[D++],R=u[D++],V=u[D++];k===C&&N===L&&P===R&&G===V?h.lineTo(R,V):h.bezierCurveTo(C,L,P,G,R,V),k=R,N=V}}}})}function be(r,t,e){if(!r||!t)return t;var a=e.done,n=e.during;sa(r,t),t.__morphT=0;function i(){At(t,"buildPath"),At(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},Z({during:function(o){t.dirtyShape(),n&&n(o)},done:function(){i(),a&&a()}},e)),t}function Ui(r,t,e,a,n,i){var o=16;r=n===e?0:Math.round(32767*(r-e)/(n-e)),t=i===a?0:Math.round(32767*(t-a)/(i-a));for(var s=0,v,l=(1<<o)/2;l>0;l/=2){var f=0,u=0;(r&l)>0&&(f=1),(t&l)>0&&(u=1),s+=l*l*(3*f^u),u===0&&(f===1&&(r=l-1-r,t=l-1-t),v=r,r=t,t=v)}return s}function Ot(r){var t=1/0,e=1/0,a=-1/0,n=-1/0,i=z(r,function(s){var v=s.getBoundingRect(),l=s.getComputedTransform(),f=v.x+v.width/2+(l?l[4]:0),u=v.y+v.height/2+(l?l[5]:0);return t=Math.min(f,t),e=Math.min(u,e),a=Math.max(f,a),n=Math.max(u,n),[f,u]}),o=z(i,function(s,v){return{cp:s,z:Ui(s[0],s[1],t,e,a,n),path:r[v]}});return o.sort(function(s,v){return s.z-v.z}).map(function(s){return s.path})}function la(r){return Fi(r.path,r.count)}function se(){return{fromIndividuals:[],toIndividuals:[],count:0}}function Xi(r,t,e){var a=[];function n(S){for(var A=0;A<S.length;A++){var x=S[A];Et(x)?n(x.childrenRef()):x instanceof j&&a.push(x)}}n(r);var i=a.length;if(!i)return se();var o=e.dividePath||la,s=o({path:t,count:i});if(s.length!==i)return console.error("Invalid morphing: unmatched splitted path"),se();a=Ot(a),s=Ot(s);for(var v=e.done,l=e.during,f=e.individualDelay,u=new sn,h=0;h<i;h++){var c=a[h],d=s[h];d.parent=t,d.copyTransform(u),f||sa(c,d)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function g(S){for(var A=0;A<s.length;A++)s[A].addSelfToZr(S)}kt(t,"addSelfToZr",{after:function(S){g(S)}}),kt(t,"removeSelfFromZr",{after:function(S){for(var A=0;A<s.length;A++)s[A].removeSelfFromZr(S)}});function p(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,At(t,"addSelfToZr"),At(t,"removeSelfFromZr")}var y=s.length;if(f)for(var b=y,m=function(){b--,b===0&&(p(),v&&v())},h=0;h<y;h++){var I=f?Z({delay:(e.delay||0)+f(h,y,a[h],s[h]),done:m},e):e;be(a[h],s[h],I)}else t.__morphT=0,t.animateTo({__morphT:1},Z({during:function(S){for(var A=0;A<y;A++){var x=s[A];x.__morphT=t.__morphT,x.dirtyShape()}l&&l(S)},done:function(){p();for(var S=0;S<r.length;S++)At(r[S],"updateTransform");v&&v()}},e));return t.__zr&&g(t.__zr),{fromIndividuals:a,toIndividuals:s,count:y}}function qi(r,t,e){var a=t.length,n=[],i=e.dividePath||la;function o(c){for(var d=0;d<c.length;d++){var g=c[d];Et(g)?o(g.childrenRef()):g instanceof j&&n.push(g)}}if(Et(r)){o(r.childrenRef());var s=n.length;if(s<a)for(var v=0,l=s;l<a;l++)n.push(ce(n[v++%s]));n.length=a}else{n=i({path:r,count:a});for(var f=r.getComputedTransform(),l=0;l<n.length;l++)n[l].setLocalTransform(f);if(n.length!==a)return console.error("Invalid morphing: unmatched splitted path"),se()}n=Ot(n),t=Ot(t);for(var u=e.individualDelay,l=0;l<a;l++){var h=u?Z({delay:(e.delay||0)+u(l,a,n[l],t[l])},e):e;be(n[l],t[l],h)}return{fromIndividuals:n,toIndividuals:t,count:t.length}}function Ar(r){return X(r[0])}function Sr(r,t){for(var e=[],a=r.length,n=0;n<a;n++)e.push({one:r[n],many:[]});for(var n=0;n<t.length;n++){var i=t[n].length,o=void 0;for(o=0;o<i;o++)e[o%a].many.push(t[n][o])}for(var s=0,n=a-1;n>=0;n--)if(!e[n].many.length){var v=e[s].many;if(v.length<=1)if(s)s=0;else return e;var i=v.length,l=Math.ceil(i/2);e[n].many=v.slice(l,i),e[s].many=v.slice(0,l),s++}return e}var $i={clone:function(r){for(var t=[],e=1-Math.pow(1-r.path.style.opacity,1/r.count),a=0;a<r.count;a++){var n=ce(r.path);n.setStyle("opacity",e),t.push(n)}return t},split:null};function Xt(r,t,e,a,n,i){if(!r.length||!t.length)return;var o=he("update",a,n);if(!(o&&o.duration>0))return;var s=a.getModel("universalTransition").get("delay"),v=Object.assign({setToFinal:!0},o),l,f;Ar(r)&&(l=r,f=t),Ar(t)&&(l=t,f=r);function u(y,b,m,I,S){var A=y.many,x=y.one;if(A.length===1&&!S){var _=b?A[0]:x,D=b?x:A[0];if(Et(_))u({many:[_],one:D},!0,m,I,!0);else{var T=s?Z({delay:s(m,I)},v):v;be(_,D,T),i(_,D,_,D,T)}}else for(var M=Z({dividePath:$i[e],individualDelay:s&&function(N,P,G,R){return s(N+m,I)}},v),C=b?Xi(A,x,M):qi(x,A,M),L=C.fromIndividuals,E=C.toIndividuals,w=L.length,k=0;k<w;k++){var T=s?Z({delay:s(k,w)},v):v;i(L[k],E[k],b?A[k]:y.one,b?y.one:A[k],T)}}for(var h=l?l===r:r.length>t.length,c=l?Sr(f,l):Sr(h?t:r,[h?r:t]),d=0,g=0;g<c.length;g++)d+=c[g].many.length;for(var p=0,g=0;g<c.length;g++)u(c[g],h,p,d),p+=c[g].many.length}function it(r){if(!r)return[];if(X(r)){for(var t=[],e=0;e<r.length;e++)t.push(it(r[e]));return t}var a=[];return r.traverse(function(n){n instanceof j&&!n.disableMorphing&&!n.invisible&&!n.ignore&&a.push(n)}),a}var va=1e4,Yi=0,xr=1,Ir=2,ji=le();function Qi(r,t){for(var e=r.dimensions,a=0;a<e.length;a++){var n=r.getDimensionInfo(e[a]);if(n&&n.otherDims[t]===0)return e[a]}}function Ji(r,t,e){var a=r.getDimensionInfo(e),n=a&&a.ordinalMeta;if(a){var i=r.get(a.name,t);return n&&n.categories[i]||i+""}}function Dr(r,t,e,a){var n=a?"itemChildGroupId":"itemGroupId",i=Qi(r,n);if(i){var o=Ji(r,t,i);return o}var s=r.getRawDataItem(t),v=a?"childGroupId":"groupId";if(s&&s[v])return s[v]+"";if(!a)return e||r.getId(t)}function _r(r){var t=[];return O(r,function(e){var a=e.data,n=e.dataGroupId;if(!(a.count()>va))for(var i=a.getIndices(),o=0;o<i.length;o++)t.push({data:a,groupId:Dr(a,o,n,!1),childGroupId:Dr(a,o,n,!0),divide:e.divide,dataIndex:o})}),t}function qt(r,t,e){r.traverse(function(a){a instanceof j&&Y(a,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function $t(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function dt(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function Ki(r,t,e){var a=he("update",e,t);a&&r.traverse(function(n){if(n instanceof ln){var i=vn(n);i&&n.animateFrom({style:i},a)}})}function to(r,t){var e=r.length;if(e!==t.length)return!1;for(var a=0;a<e;a++){var n=r[a],i=t[a];if(n.data.getId(n.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function ua(r,t,e){var a=_r(r),n=_r(t);function i(m,I,S,A,x){(S||m)&&I.animateFrom({style:S&&S!==m?ft(ft({},S.style),m.style):m.style},x)}var o=!1,s=Yi,v=rt(),l=rt();a.forEach(function(m){m.groupId&&v.set(m.groupId,!0),m.childGroupId&&l.set(m.childGroupId,!0)});for(var f=0;f<n.length;f++){var u=n[f].groupId;if(l.get(u)){s=xr;break}var h=n[f].childGroupId;if(h&&v.get(h)){s=Ir;break}}function c(m,I){return function(S){var A=S.data,x=S.dataIndex;return I?A.getId(x):m?s===xr?S.childGroupId:S.groupId:s===Ir?S.childGroupId:S.groupId}}var d=to(a,n),g={};if(!d)for(var f=0;f<n.length;f++){var p=n[f],y=p.data.getItemGraphicEl(p.dataIndex);y&&(g[y.id]=!0)}function b(m,I){var S=a[I],A=n[m],x=A.data.hostModel,_=S.data.getItemGraphicEl(S.dataIndex),D=A.data.getItemGraphicEl(A.dataIndex);if(_===D){D&&Ki(D,A.dataIndex,x);return}_&&g[_.id]||D&&(dt(D),_?(dt(_),$t(_),o=!0,Xt(it(_),it(D),A.divide,x,m,i)):qt(D,x,m))}new We(a,n,c(!0,d),c(!1,d),null,"multiple").update(b).updateManyToOne(function(m,I){var S=n[m],A=S.data,x=A.hostModel,_=A.getItemGraphicEl(S.dataIndex),D=Yt(z(I,function(T){return a[T].data.getItemGraphicEl(a[T].dataIndex)}),function(T){return T&&T!==_&&!g[T.id]});_&&(dt(_),D.length?(O(D,function(T){dt(T),$t(T)}),o=!0,Xt(it(D),it(_),S.divide,x,m,i)):qt(_,x,S.dataIndex))}).updateOneToMany(function(m,I){var S=a[I],A=S.data.getItemGraphicEl(S.dataIndex);if(!(A&&g[A.id])){var x=Yt(z(m,function(D){return n[D].data.getItemGraphicEl(n[D].dataIndex)}),function(D){return D&&D!==A}),_=n[m[0]].data.hostModel;x.length&&(O(x,function(D){return dt(D)}),A?(dt(A),$t(A),o=!0,Xt(it(A),it(x),S.divide,_,m[0],i)):O(x,function(D){return qt(D,_,m[0])}))}}).updateManyToMany(function(m,I){new We(I,m,function(S){return a[S].data.getId(a[S].dataIndex)},function(S){return n[S].data.getId(n[S].dataIndex)}).update(function(S,A){b(m[S],I[A])}).execute()}).execute(),o&&O(t,function(m){var I=m.data,S=I.hostModel,A=S&&e.getViewOfSeriesModel(S),x=he("update",S,0);A&&S.isAnimationEnabled()&&x&&x.duration>0&&A.group.traverse(function(_){_ instanceof j&&!_.animators.length&&_.animateFrom({style:{opacity:0}},x)})})}function Mr(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function Cr(r){return X(r)?r.sort().join(","):r}function et(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function eo(r,t){var e=rt(),a=rt(),n=rt();return O(r.oldSeries,function(i,o){var s=r.oldDataGroupIds[o],v=r.oldData[o],l=Mr(i),f=Cr(l);a.set(f,{dataGroupId:s,data:v}),X(l)&&O(l,function(u){n.set(u,{key:f,dataGroupId:s,data:v})})}),O(t.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),v=Mr(i),l=Cr(v),f=a.get(l);if(f)e.set(l,{oldSeries:[{dataGroupId:f.dataGroupId,divide:et(f.data),data:f.data}],newSeries:[{dataGroupId:o,divide:et(s),data:s}]});else if(X(v)){var u=[];O(v,function(d){var g=a.get(d);g.data&&u.push({dataGroupId:g.dataGroupId,divide:et(g.data),data:g.data})}),u.length&&e.set(l,{oldSeries:u,newSeries:[{dataGroupId:o,data:s,divide:et(s)}]})}else{var h=n.get(v);if(h){var c=e.get(h.key);c||(c={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:et(h.data)}],newSeries:[]},e.set(h.key,c)),c.newSeries.push({dataGroupId:o,data:s,divide:et(s)})}}}}),e}function Tr(r,t){for(var e=0;e<r.length;e++){var a=t.seriesIndex!=null&&t.seriesIndex===r[e].seriesIndex||t.seriesId!=null&&t.seriesId===r[e].id;if(a)return e}}function ro(r,t,e,a){var n=[],i=[];O(bt(r.from),function(o){var s=Tr(t.oldSeries,o);s>=0&&n.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:et(t.oldData[s]),groupIdDim:o.dimension})}),O(bt(r.to),function(o){var s=Tr(e.updatedSeries,o);if(s>=0){var v=e.updatedSeries[s].getData();i.push({dataGroupId:t.oldDataGroupIds[s],data:v,divide:et(v),groupIdDim:o.dimension})}}),n.length>0&&i.length>0&&ua(n,i,a)}function so(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,a){O(bt(a.seriesTransition),function(n){O(bt(n.to),function(i){for(var o=a.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][Ft]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,e,a){var n=ji(e);if(n.oldSeries&&a.updatedSeries&&a.optionChanged){var i=a.seriesTransition;if(i)O(bt(i),function(c){ro(c,n,a,e)});else{var o=eo(n,a);O(o.keys(),function(c){var d=o.get(c);ua(d.oldSeries,d.newSeries,e)})}O(a.updatedSeries,function(c){c[Ft]&&(c[Ft]=!1)})}for(var s=t.getSeries(),v=n.oldSeries=[],l=n.oldDataGroupIds=[],f=n.oldData=[],u=0;u<s.length;u++){var h=s[u].getData();h.count()<va&&(v.push(s[u]),l.push(s[u].get("dataGroupId")),f.push(h))}})}export{io as a,so as b,oo as c,no as i};
