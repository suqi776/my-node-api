import{az as q,e as L,u as U,aL as X,aM as z,aN as Y,ay as J,at as P,aO as Z,aP as ee,aH as H,aI as W,ar as O,aE as te,aJ as ne}from"./index-DeRokeIa.js";function x(e){return Z()?(ee(e),!0):!1}function k(e){return typeof e=="function"?e():U(e)}const re=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ae=Object.prototype.toString,oe=e=>ae.call(e)==="[object Object]",I=()=>{};function se(e,t){function n(...o){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(s)})}return n}const B=e=>e();function ie(e=B){const t=L(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:z(t),pause:n,resume:o,eventFilter:r}}function ue(e){return H()}function le(...e){if(e.length!==1)return X(...e);const t=e[0];return typeof t=="function"?z(Y(()=>({get:t,set:I}))):L(t)}function ce(e,t,n={}){const{eventFilter:o=B,...r}=n;return W(e,se(o,t),r)}function fe(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:s,pause:u,resume:i,isActive:l}=ie(o);return{stop:ce(e,t,{...r,eventFilter:s}),pause:u,resume:i,isActive:l}}function G(e,t=!0,n){ue()?J(e,n):t?e():P(e)}function Ce(e=!1,t={}){const{truthyValue:n=!0,falsyValue:o=!1}=t,r=q(e),s=L(e);function u(i){if(arguments.length)return s.value=i,s.value;{const l=k(n);return s.value=s.value===l?k(o):l,s.value}}return r?u:[s,u]}function K(e){var t;const n=k(e);return(t=n==null?void 0:n.$el)!=null?t:n}const M=re?window:void 0;function R(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=M):[t,n,o,r]=e,!t)return I;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],u=()=>{s.forEach(m=>m()),s.length=0},i=(m,c,S,g)=>(m.addEventListener(c,S,g),()=>m.removeEventListener(c,S,g)),l=W(()=>[K(t),k(r)],([m,c])=>{if(u(),!m)return;const S=oe(c)?{...c}:c;s.push(...n.flatMap(g=>o.map(v=>i(m,g,v,S))))},{immediate:!0,flush:"post"}),p=()=>{l(),u()};return x(p),p}function de(){const e=L(!1),t=H();return t&&J(()=>{e.value=!0},t),e}function pe(e){const t=de();return O(()=>(t.value,!!e()))}function me(e,t={}){const{window:n=M}=t,o=pe(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=L(!1),u=p=>{s.value=p.matches},i=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",u):r.removeListener(u))},l=ne(()=>{o.value&&(i(),r=n.matchMedia(k(e)),"addEventListener"in r?r.addEventListener("change",u):r.addListener(u),s.value=r.matches)});return x(()=>{l(),i(),r=void 0}),s}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j="__vueuse_ssr_handlers__",he=ge();function ge(){return j in F||(F[j]=F[j]||{}),F[j]}function Q(e,t){return he[e]||t}function ve(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ye={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},V="vueuse-storage";function we(e,t,n,o={}){var r;const{flush:s="pre",deep:u=!0,listenToStorageChanges:i=!0,writeDefaults:l=!0,mergeDefaults:p=!1,shallow:m,window:c=M,eventFilter:S,onError:g=a=>{console.error(a)},initOnMounted:v}=o,h=(m?te:L)(typeof t=="function"?t():t);if(!n)try{n=Q("getDefaultStorage",()=>{var a;return(a=M)==null?void 0:a.localStorage})()}catch(a){g(a)}if(!n)return h;const w=k(t),D=ve(w),b=(r=o.serializer)!=null?r:ye[D],{pause:N,resume:f}=fe(h,()=>T(h.value),{flush:s,deep:u,eventFilter:S});c&&i&&G(()=>{R(c,"storage",y),R(c,V,_),v&&y()}),v||y();function C(a,d){c&&c.dispatchEvent(new CustomEvent(V,{detail:{key:e,oldValue:a,newValue:d,storageArea:n}}))}function T(a){try{const d=n.getItem(e);if(a==null)C(d,null),n.removeItem(e);else{const A=b.write(a);d!==A&&(n.setItem(e,A),C(d,A))}}catch(d){g(d)}}function E(a){const d=a?a.newValue:n.getItem(e);if(d==null)return l&&w!=null&&n.setItem(e,b.write(w)),w;if(!a&&p){const A=b.read(d);return typeof p=="function"?p(A,w):D==="object"&&!Array.isArray(A)?{...w,...A}:A}else return typeof d!="string"?d:b.read(d)}function y(a){if(!(a&&a.storageArea!==n)){if(a&&a.key==null){h.value=w;return}if(!(a&&a.key!==e)){N();try{(a==null?void 0:a.newValue)!==b.write(h.value)&&(h.value=E(a))}catch(d){g(d)}finally{a?P(f):f()}}}}function _(a){y(a.detail)}return h}function $(e){return me("(prefers-color-scheme: dark)",e)}function Se(e={}){const{selector:t="html",attribute:n="class",initialValue:o="auto",window:r=M,storage:s,storageKey:u="vueuse-color-scheme",listenToStorageChanges:i=!0,storageRef:l,emitAuto:p,disableTransition:m=!0}=e,c={auto:"",light:"light",dark:"dark",...e.modes||{}},S=$({window:r}),g=O(()=>S.value?"dark":"light"),v=l||(u==null?le(o):we(u,o,s,{window:r,listenToStorageChanges:i})),h=O(()=>v.value==="auto"?g.value:v.value),w=Q("updateHTMLAttrs",(f,C,T)=>{const E=typeof f=="string"?r==null?void 0:r.document.querySelector(f):K(f);if(!E)return;let y;if(m&&(y=r.document.createElement("style"),y.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(y)),C==="class"){const _=T.split(/\s/g);Object.values(c).flatMap(a=>(a||"").split(/\s/g)).filter(Boolean).forEach(a=>{_.includes(a)?E.classList.add(a):E.classList.remove(a)})}else E.setAttribute(C,T);m&&(r.getComputedStyle(y).opacity,document.head.removeChild(y))});function D(f){var C;w(t,n,(C=c[f])!=null?C:f)}function b(f){e.onChanged?e.onChanged(f,D):D(f)}W(h,b,{flush:"post",immediate:!0}),G(()=>b(h.value));const N=O({get(){return p?v.value:h.value},set(f){v.value=f}});try{return Object.assign(N,{store:v,system:g,state:h})}catch{return N}}function Ae(e={}){const{valueDark:t="dark",valueLight:n="",window:o=M}=e,r=Se({...e,onChanged:(i,l)=>{var p;e.onChanged?(p=e.onChanged)==null||p.call(e,i==="dark",l,i):l(i)},modes:{dark:t,light:n}}),s=O(()=>r.system?r.system.value:$({window:o}).value?"dark":"light");return O({get(){return r.value==="dark"},set(i){const l=i?"dark":"light";s.value===l?r.value="auto":r.value=l}})}export{Ce as a,Ae as u};
